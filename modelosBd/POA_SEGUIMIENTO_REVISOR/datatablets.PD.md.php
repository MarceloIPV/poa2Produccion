<?php
	
	extract($_POST);

	require_once "../../config/config2.php";
	
	$objeto= new usuarioAcciones();
	$anioA = date('Y');
	$anio = date('Y');

	$corPlanificas=$objeto->getObtenerInformacionGeneral("SELECT a.id_usuario FROM th_usuario AS a INNER JOIN th_usuario_roles AS b ON a.id_usuario=b.id_usuario WHERE b.id_rol='4' AND a.fisicamenteEstructura='3' AND a.estadoUsuario='A' ORDER BY a.id_usuario DESC LIMIT 1;");

	$corInsta=$objeto->getObtenerInformacionGeneral("SELECT a.id_usuario FROM th_usuario AS a INNER JOIN th_usuario_roles AS b ON a.id_usuario=b.id_usuario WHERE b.id_rol='4' AND a.fisicamenteEstructura='1' AND a.estadoUsuario='A' ORDER BY a.id_usuario DESC LIMIT 1;");

	$directorPlanificacion=$objeto->getObtenerInformacionGeneral("SELECT a.id_usuario FROM th_usuario AS a INNER JOIN th_usuario_roles AS b ON a.id_usuario=b.id_usuario WHERE b.id_rol='2' AND a.fisicamenteEstructura='18' AND a.estadoUsuario='A' ORDER BY a.id_usuario DESC LIMIT 1;");

	$planificacion=$corPlanificas[0][id_usuario];
	$instalaciones=$corInsta[0][id_usuario];
	$directorVariables=$directorPlanificacion[0][id_usuario];

	session_start();

	$aniosPeriodos__ingesos=$_SESSION["selectorAniosA"];
	$idOrganismoSession=$_SESSION["idOrganismoSession"];

    switch ($tipo) {


		case "seguimiento__tablas__programacion__financiera":

			if ($datos[1]==7 && $datos[2]==24) {
			

				$query="SELECT (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo),'1') AS contadorTr,YEAR(a.fecha) AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo, a.perioIngreso FROM poa_trimestrales AS a INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo  WHERE NOT EXISTS (SELECT idOrganismo FROM poa_seguimiento_control_cambios t2 WHERE t2.idOrganismo = a.idOrganismo AND t2.trimestre=a.tipoTrimestre) AND (a.financiero IS NULL OR a.financiero='$datos[0]') AND (d.nombreTipo LIKE '%ecuatorianas por%' OR d.nombreTipo LIKE '%pico Ecuatoriano%'  OR d.nombreTipo LIKE '%Federaciones Ecuatorianas de Deporte Adaptado%' OR d.nombreTipo LIKE '%Militar Ecuatoriana%' OR d.nombreTipo LIKE '%Policial Ecuatoriana%') AND a.tipoTrimestre!='primerTrimestre' AND a.tipoTrimestre!='tercerTrimestre' AND a.perioIngreso='$aniosPeriodos__ingesos' GROUP BY a.tipoTrimestre, a.idOrganismo ORDER BY a.idEnviadorTrimestres DESC; ";

			}else if($datos[1]==4 && $datos[2]==2){

				$query="SELECT w.nombreZonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.esigeft,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo LIMIT 1) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo LIMIT 1),'1') AS contadorTr,YEAR(a.fecha) AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) IS NOT NULL,'SI','NO')) AS esigeft,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo, a.perioIngreso FROM poa_trimestrales AS a INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo  INNER JOIN poa_organismo_zonal as w on w.idOrganismo = a.idOrganismo  WHERE  (a.financiero IS NULL OR a.financiero='$datos[0]') AND (w.nombreZonal='ZONAL 3' or w.nombreZonal='ZONAL 2' or w.nombreZonal='Planta Central'  )AND a.tipoTrimestre!='primerTrimestre' AND a.tipoTrimestre!='tercerTrimestre' AND a.perioIngreso='$aniosPeriodos__ingesos' AND EXISTS (SELECT t.idProgramacionFinanciera FROM poa_programacion_financiera AS t WHERE t.idOrganismo=a.idOrganismo AND t.idActividad='1' LIMIT 1) GROUP BY a.tipoTrimestre, a.idOrganismo ORDER BY a.idEnviadorTrimestres DESC; ";
				
			}else if(($datos[1]==2 || $datos[1]==3) && ($datos[2]==23 || $datos[2]==5 || $datos[2]==30 || $datos[2]==31 || $datos[2]==32 || $datos[2]==33)){

				$query="SELECT w.nombreZonal,  (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.esigeft,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo),'1') AS contadorTr,YEAR(a.fecha) AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo,a.perioIngreso FROM poa_trimestrales AS a INNER JOIN poa_organismo_zonal as w on w.idOrganismo = a.idOrganismo INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo  WHERE a.financiero='$datos[0]' AND a.tipoTrimestre!='primerTrimestre' AND a.tipoTrimestre!='tercerTrimestre' AND a.perioIngreso='$aniosPeriodos__ingesos' AND EXISTS (SELECT t.idProgramacionFinanciera FROM poa_programacion_financiera AS t WHERE t.idOrganismo=a.idOrganismo AND t.idActividad='1') GROUP BY a.tipoTrimestre, a.idOrganismo ORDER BY a.idEnviadorTrimestres DESC; ";


				
			}else{

				$nombreZonal=$objeto->getObtenerInformacionGeneral("SELECT descripcionFisicamenteEstructura FROM th_fisicamenteestructura WHERE id_FisicamenteEstructura = $datos[2];");
				
				$nombre=$nombreZonal[0][descripcionFisicamenteEstructura];
				


				$query="SELECT w.nombreZonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.esigeft,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo LIMIT 1) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo LIMIT 1),'1') AS contadorTr,YEAR(a.fecha) AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) IS NOT NULL,'SI','NO')) AS esigeft,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo,a.perioIngreso FROM poa_trimestrales AS a INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo  INNER JOIN poa_organismo_zonal as w on w.idOrganismo = a.idOrganismo  WHERE  (a.financiero IS NULL OR a.financiero='$datos[0]') AND w.nombreZonal like CONCAT('%', SUBSTRING( '$nombre', 14, 20), '%') AND a.tipoTrimestre!='primerTrimestre' AND a.tipoTrimestre!='tercerTrimestre' AND a.perioIngreso='$aniosPeriodos__ingesos' AND EXISTS (SELECT t.idProgramacionFinanciera FROM poa_programacion_financiera AS t WHERE t.idOrganismo=a.idOrganismo AND t.idActividad='1' LIMIT 1) GROUP BY a.tipoTrimestre, a.idOrganismo ORDER BY a.idEnviadorTrimestres DESC; ";


			}

			$dataTablets=$objeto->getDatatablets2($query);

			echo json_encode($dataTablets);

		break;

		case "seguimiento__tablas__contratacion__recomendados":

			$query="SELECT l5.nombreZonal, b.ruc,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(b.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreOrganismo, (SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia, (SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton, (SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia, a.tipoTrimestre, a.fecha, a.idOrganismo,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT, IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft, REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo, a.tipoTrimestre FROM poa_trimestrales AS a INNER JOIN poa_organismo AS b ON a.idOrganismo=b.idOrganismo INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE a.financieroR='$datos[0]' AND a.perioIngreso='$aniosPeriodos__ingesos' GROUP BY a.tipoTrimestre, a.idOrganismo ORDER BY a.idEnviadorTrimestres DESC;;";


			$dataTablets=$objeto->getDatatablets2($query);

			echo json_encode($dataTablets);


		break;

		case "seguimiento__tablas__acFisica__rendimientos":

			$zonal=$objeto->getObtenerInformacionGeneral("SELECT a.zonal,b.descripcionZonal FROM th_usuario AS a INNER JOIN th_zonal AS b ON a.zonal=b.id_Zonal WHERE a.id_usuario='$datos[0]';");


			if ($datos[1]==7 && $datos[2]==26) {

				 $query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1),(SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.esigeft,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo LIMIT 1) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo LIMIT 1),'1') AS contadorTr,YEAR(a.fecha) AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) IS NOT NULL,'SI','NO')) AS esigeft,IF(zL.accion='RecreaciÃ³n','RECREACIÓN','FORMATIVO') AS tipoAccion,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo FROM poa_trimestrales AS a INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS zL ON zL.idAreaAccion=d.idAreaAccion INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE a.perioIngreso='$aniosPeriodos__ingesos' and (a.estadoF IS NULL OR a.estadoF='$datos[0]') AND a.tipoTrimestre!='primerTrimestre' AND a.tipoTrimestre!='tercerTrimestre' AND (l5.nombreZonal='ZONAL 3' or l5.nombreZonal='ZONAL 2' or l5.nombreZonal='Planta Central' )  AND (d.nombreTipo LIKE '%cantonales%' OR d.nombreTipo LIKE '%comunitarias%'  OR d.nombreTipo LIKE '%deportivas provinciales%' OR d.nombreTipo LIKE '%barriales y parroquiales%' OR d.nombreTipo LIKE '%Federaciones provinciales de ligas%' OR d.nombreTipo LIKE '%Federaciones provinciales de ligas%' OR d.nombreTipo LIKE '%Federaciones provinciales de ligas%' OR d.nombreTipo LIKE '%Federaciones provinciales de ligas%' OR d.nombreTipo LIKE '%Federaciones deportivas provinciales de r%' OR d.nombreTipo LIKE '%Nacional de Ligas Deportivas%' OR d.nombreTipo LIKE '%Nacional del Ecuador%' OR d.nombreTipo LIKE '%de Deporte Universitario%' OR d.nombreTipo LIKE '%Estudiantil%' OR d.nombreTipo LIKE '%Rurales%') GROUP BY a.tipoTrimestre,a.idOrganismo ORDER BY a.idEnviadorTrimestres DESC;;";

				

			}else if($datos[1]==4 && $zonal[0][zonal]>1){
				
				 $query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1),(SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.esigeft,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo LIMIT 1) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo LIMIT 1),'1') AS contadorTr,a.perioIngreso AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) IS NOT NULL,'SI','NO')) AS esigeft,IF(zL.accion='RecreaciÃ³n','RECREACIÓN','FORMATIVO') AS tipoAccion,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo FROM poa_trimestrales AS a INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS zL ON zL.idAreaAccion=d.idAreaAccion INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE a.perioIngreso='$aniosPeriodos__ingesos' AND a.tipoTrimestre!='primerTrimestre' AND a.tipoTrimestre!='tercerTrimestre' and (a.estadoF IS NULL OR a.estadoF='$datos[0]')  AND (d.nombreTipo LIKE '%cantonales%' OR d.nombreTipo LIKE '%comunitarias%'  OR d.nombreTipo LIKE '%deportivas provinciales%' OR d.nombreTipo LIKE '%barriales y parroquiales%' OR d.nombreTipo LIKE '%Federaciones provinciales de ligas%' OR d.nombreTipo LIKE '%Federaciones provinciales de ligas%' OR d.nombreTipo LIKE '%Federaciones provinciales de ligas%' OR d.nombreTipo LIKE '%Federaciones provinciales de ligas%' OR d.nombreTipo LIKE '%Federaciones deportivas provinciales de r%' OR d.nombreTipo LIKE '%Nacional de Ligas Deportivas%' OR d.nombreTipo LIKE '%Nacional del Ecuador%' OR d.nombreTipo LIKE '%de Deporte Universitario%' OR d.nombreTipo LIKE '%Estudiantil%' OR d.nombreTipo LIKE '%Rurales%') AND l5.nombreZonal = '".$zonal[0][descripcionZonal]."' GROUP BY a.tipoTrimestre,a.idOrganismo ORDER BY a.idEnviadorTrimestres DESC;";
				
			}else if($datos[1]==2 || $datos[1]==3){

				 $query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1),(SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.esigeft,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo LIMIT 1) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo LIMIT 1),'1') AS contadorTr,a.perioIngreso AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) IS NOT NULL,'SI','NO')) AS esigeft,IF(zL.accion='RecreaciÃ³n','RECREACIÓN','FORMATIVO') AS tipoAccion,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo FROM poa_trimestrales AS a INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS zL ON zL.idAreaAccion=d.idAreaAccion INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE a.estadoF='$datos[0]' and a.perioIngreso='$aniosPeriodos__ingesos' AND a.tipoTrimestre!='primerTrimestre' AND a.tipoTrimestre!='tercerTrimestre' GROUP BY a.tipoTrimestre,a.idOrganismo ORDER BY a.idEnviadorTrimestres DESC;";

			}else{

				$nombreZonal=$objeto->getObtenerInformacionGeneral("SELECT descripcionFisicamenteEstructura FROM th_fisicamenteestructura WHERE id_FisicamenteEstructura = $datos[2];");
				
				$nombre=$nombreZonal[0][descripcionFisicamenteEstructura];
				
				 $query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1),(SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.esigeft,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo LIMIT 1) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo LIMIT 1),'1') AS contadorTr,a.perioIngreso AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) IS NOT NULL,'SI','NO')) AS esigeft,IF(zL.accion='RecreaciÃ³n','RECREACIÓN','FORMATIVO') AS tipoAccion,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo FROM poa_trimestrales AS a INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS zL ON zL.idAreaAccion=d.idAreaAccion INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE a.estadoF='$datos[0]' and a.perioIngreso='$aniosPeriodos__ingesos' AND a.tipoTrimestre!='primerTrimestre' AND a.tipoTrimestre!='tercerTrimestre' AND l5.nombreZonal like CONCAT('%', SUBSTRING( '$nombre', 14, 20), '%') GROUP BY a.tipoTrimestre,a.idOrganismo ORDER BY a.idEnviadorTrimestres DESC;";
				 
			}		


			$dataTablets=$objeto->getDatatablets2($query);

			echo json_encode($dataTablets);

		break;

		case "seguimiento__tablas__acFisica__rendimientos__ins":

			$zonal=$objeto->getObtenerInformacionGeneral("SELECT a.zonal,b.descripcionZonal FROM th_usuario AS a INNER JOIN th_zonal AS b ON a.zonal=b.id_Zonal WHERE a.id_usuario='$datos[0]';");


			if ($datos[1]==4 && $datos[2]==1) {

				$obtenerInformacion__rehabilitacion=$objeto->getObtenerInformacionGeneral("SELECT b.tipoIntervencion FROM poa_segimiento_mantenimiento AS a INNER JOIN poa_mantenimiento AS b ON a.idAdministrativo=b.idMantenimiento INNER JOIN poa_programacion_financiera AS c ON c.idProgramacionFinanciera=b.idProgramacionFinanciera INNER JOIN poa_seguimiento_otros_mantenimiento AS d ON d.idOrganismo=a.idOrganismo WHERE c.idOrganismo='$organismoOculto__modal' AND a.perioIngreso='$aniosPeriodos__ingesos' and a.trimestre='$periodo' and b.tipoIntervencion like '%Rehabi%' GROUP BY a.mensualEjecutado limit 1");

				if (!empty($obtenerInformacion__rehabilitacion[0][tipoIntervencion])) {

					$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo),'1') AS contadorTr,YEAR(a.fecha) AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft,IF(zL.accion='RecreaciÃ³n','RECREACIÓN','FORMATIVO') AS tipoAccion,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT FROM poa_trimestrales AS a INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS zL ON zL.idAreaAccion=d.idAreaAccion INNER JOIN poa_segimiento_mantenimiento AS cL ON cL.idOrganismo=a.idOrganismo INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE l5.nombreZonal='ZONAL 3' or l5.nombreZonal='ZONAL 2' or l5.nombreZonal='PLANTA CENTRAL' AND (a.estadoI IS NULL OR a.estadoI='$datos[0]') AND (a.estadoIn IS NULL OR a.estadoIn='$datos[0]') AND a.perioIngreso='$aniosPeriodos__ingesos' AND (a.tipoTrimestre='segundoTrimestre' OR a.tipoTrimestre='cuartoTrimestre') GROUP BY a.tipoTrimestre,cL.idOrganismo ORDER BY a.idEnviadorTrimestres DESC;";

				}else{

					$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo),'1') AS contadorTr,YEAR(a.fecha) AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft,IF(zL.accion='RecreaciÃ³n','RECREACIÓN','FORMATIVO') AS tipoAccion,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT FROM poa_trimestrales AS a INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS zL ON zL.idAreaAccion=d.idAreaAccion INNER JOIN poa_segimiento_mantenimiento AS cL ON cL.idOrganismo=a.idOrganismo INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE l5.nombreZonal='ZONAL 3' or l5.nombreZonal='ZONAL 2' or l5.nombreZonal='PLANTA CENTRAL' AND (a.estadoI IS NULL OR a.estadoI='$datos[0]') AND a.perioIngreso='$aniosPeriodos__ingesos' AND (a.tipoTrimestre='segundoTrimestre' OR a.tipoTrimestre='cuartoTrimestre') GROUP BY a.tipoTrimestre,cL.idOrganismo ORDER BY a.idEnviadorTrimestres DESC;";

				}

				


			}else if($datos[2]==6){

				$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo),'1') AS contadorTr,YEAR(a.fecha) AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft,IF(zL.accion='RecreaciÃ³n','RECREACIÓN','FORMATIVO') AS tipoAccion,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT FROM poa_trimestrales AS a INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS zL ON zL.idAreaAccion=d.idAreaAccion INNER JOIN poa_segimiento_mantenimiento AS cL ON cL.idOrganismo=a.idOrganismo INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE a.estadoIn='$datos[0]' AND l5.nombreZonal!='ZONAL 6' AND l5.nombreZonal!='ZONAL 7' AND l5.nombreZonal!='ZONAL 8' AND l5.nombreZonal!='ZONAL 1' AND l5.nombreZonal!='ZONAL 4' AND a.tipoTrimestre!='primerTrimestre' AND a.tipoTrimestre!='tercerTrimestre' AND a.perioIngreso='$aniosPeriodos__ingesos' AND (a.tipoTrimestre='segundoTrimestre' OR a.tipoTrimestre='cuartoTrimestre') GROUP BY a.tipoTrimestre,cL.idOrganismo ORDER BY a.idEnviadorTrimestres DESC;";

			
			}else if(($datos[1]==2)){

				$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo),'1') AS contadorTr,YEAR(a.fecha) AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft,IF(zL.accion='RecreaciÃ³n','RECREACIÓN','FORMATIVO') AS tipoAccion,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT FROM poa_trimestrales AS a INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS zL ON zL.idAreaAccion=d.idAreaAccion INNER JOIN poa_segimiento_mantenimiento AS cL ON cL.idOrganismo=a.idOrganismo INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE l5.nombreZonal='ZONAL 3' or l5.nombreZonal='ZONAL 2' or l5.nombreZonal='PLANTA CENTRAL' AND (a.estadoI='$datos[0]' or a.estadoIn='$datos[0]') AND a.perioIngreso='$aniosPeriodos__ingesos' AND (a.tipoTrimestre='segundoTrimestre' OR a.tipoTrimestre='cuartoTrimestre') GROUP BY a.tipoTrimestre,cL.idOrganismo ORDER BY a.idEnviadorTrimestres DESC;";
				

			}else if( $datos[1]==3){

				$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo),'1') AS contadorTr,YEAR(a.fecha) AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft,IF(zL.accion='RecreaciÃ³n','RECREACIÓN','FORMATIVO') AS tipoAccion,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT FROM poa_trimestrales AS a INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS zL ON zL.idAreaAccion=d.idAreaAccion INNER JOIN poa_segimiento_mantenimiento AS cL ON cL.idOrganismo=a.idOrganismo INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE l5.nombreZonal='ZONAL 3' or l5.nombreZonal='ZONAL 2' or l5.nombreZonal='PLANTA CENTRAL' AND (a.estadoI='$datos[0]') AND a.perioIngreso='$aniosPeriodos__ingesos' AND (a.tipoTrimestre='segundoTrimestre' OR a.tipoTrimestre='cuartoTrimestre') GROUP BY a.tipoTrimestre,cL.idOrganismo ORDER BY a.idEnviadorTrimestres DESC;";
				

			}else if($datos[1]==4 && $zonal[0][zonal]>1){
			
				$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo),'1') AS contadorTr,YEAR(a.fecha) AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft,IF(zL.accion='RecreaciÃ³n','RECREACIÓN','FORMATIVO') AS tipoAccion,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT FROM poa_trimestrales AS a INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS zL ON zL.idAreaAccion=d.idAreaAccion INNER JOIN poa_segimiento_mantenimiento AS cL ON cL.idOrganismo=a.idOrganismo INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE (a.estadoI IS NULL OR a.estadoI='$datos[0]') AND a.perioIngreso='$aniosPeriodos__ingesos' AND l5.nombreZonal like '%".$zonal[0][descripcionZonal]."%' AND (a.tipoTrimestre='segundoTrimestre' OR a.tipoTrimestre='cuartoTrimestre') GROUP BY a.tipoTrimestre,cL.idOrganismo ORDER BY a.idEnviadorTrimestres DESC;";
				
			}
			if($datos[1]==3 && $zonal[0][zonal]>1){
				// var_dump("datos1");
				// var_dump($datos[1]);
				// var_dump("ZONAL_1");
				// var_dump($zonal[0][zonal]);
				$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo),'1') AS contadorTr,YEAR(a.fecha) AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft,IF(zL.accion='RecreaciÃ³n','RECREACIÓN','FORMATIVO') AS tipoAccion,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT FROM poa_trimestrales AS a INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS zL ON zL.idAreaAccion=d.idAreaAccion INNER JOIN poa_segimiento_mantenimiento AS cL ON cL.idOrganismo=a.idOrganismo INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE (a.estadoI IS NULL OR a.estadoI='$datos[0]') AND a.perioIngreso='$aniosPeriodos__ingesos' AND l5.nombreZonal = '".$zonal[0][descripcionZonal]."' AND (a.tipoTrimestre='segundoTrimestre' OR a.tipoTrimestre='cuartoTrimestre') GROUP BY a.tipoTrimestre,a.idOrganismo ORDER BY a.idEnviadorTrimestres DESC;";
			}
			

			$dataTablets=$objeto->getDatatablets2($query);

			echo json_encode($dataTablets);

		break;

		
		case "seguimiento__tablas__recibidos__presupuestario":

			$zonal=$objeto->getObtenerInformacionGeneral("SELECT a.zonal,b.descripcionZonal FROM th_usuario AS a INNER JOIN th_zonal AS b ON a.zonal=b.id_Zonal WHERE a.id_usuario='$datos[0]';");


			if ($datos[1]==7 && $datos[2]==26) {

				$query="SELECT (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo LIMIT 1) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo LIMIT 1),'1') AS contadorTr,YEAR(a.fecha) AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) IS NOT NULL,'SI','NO')) AS esigeft,IF(zL.accion='RecreaciÃ³n','RECREACIÓN','FORMATIVO') AS tipoAccion,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo FROM poa_trimestrales AS a INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS zL ON zL.idAreaAccion=d.idAreaAccion WHERE NOT EXISTS (SELECT idOrganismo FROM poa_seguimiento_control_cambios t2 WHERE t2.idOrganismo = a.idOrganismo AND t2.trimestre=a.tipoTrimestre)  AND (a.estadoF IS NULL OR a.estadoF='$datos[0]') AND (d.nombreTipo LIKE '%cantonales%' OR d.nombreTipo LIKE '%comunitarias%'  OR d.nombreTipo LIKE '%deportivas provinciales%' OR d.nombreTipo LIKE '%barriales y parroquiales%' OR d.nombreTipo LIKE '%Federaciones provinciales de ligas%' OR d.nombreTipo LIKE '%Federaciones provinciales de ligas%' OR d.nombreTipo LIKE '%Federaciones provinciales de ligas%' OR d.nombreTipo LIKE '%Federaciones provinciales de ligas%' OR d.nombreTipo LIKE '%Federaciones deportivas provinciales de r%' OR d.nombreTipo LIKE '%Nacional de Ligas Deportivas%' OR d.nombreTipo LIKE '%Nacional del Ecuador%' OR d.nombreTipo LIKE '%de Deporte Universitario%' OR d.nombreTipo LIKE '%Estudiantil%' OR d.nombreTipo LIKE '%Rurales%') AND a.tipoTrimestre!='primerTrimestre' AND a.tipoTrimestre!='tercerTrimestre' AND a.perioIngreso='$aniosPeriodos__ingesos' ORDER BY a.idEnviadorTrimestres;";

			}else if($datos[1]==4 && $zonal[0][zonal]>1){
				// $query="SELECT a.nombreZonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS ruc, (SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreParroquia, c.tipoTrimestre, c.fecha, c.esigeft, c.esigeft from poa_organismo_zonal AS a INNER JOIN poa_organismo AS b ON a.idOrganismo = b.idOrganismo INNER JOIN poa_trimestrales AS c ON a.idOrganismo = c.idOrganismo WHERE a.nombreZonal = 'ZONAL 8' AND a.perioIngreso ='2022'
				// ";
				 $query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1),(SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.esigeft,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo LIMIT 1) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo LIMIT 1),'1') AS contadorTr,YEAR(a.fecha) AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) IS NOT NULL,'SI','NO')) AS esigeft,IF(zL.accion='RecreaciÃ³n','RECREACIÓN','FORMATIVO') AS tipoAccion,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo FROM poa_trimestrales AS a INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS zL ON zL.idAreaAccion=d.idAreaAccion INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE a.perioIngreso='$aniosPeriodos__ingesos' and (a.estadoF IS NULL OR a.estadoF='$datos[0]') AND l5.nombreZonal = '".$zonal[0][descripcionZonal]."';";
				//l5.nombreZonal='".$zonal[0][descripcionZonal]."' AND
			}else{

				 $query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1),(SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.esigeft,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo LIMIT 1) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo LIMIT 1),'1') AS contadorTr,YEAR(a.fecha) AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) IS NOT NULL,'SI','NO')) AS esigeft,IF(zL.accion='RecreaciÃ³n','RECREACIÓN','FORMATIVO') AS tipoAccion,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo FROM poa_trimestrales AS a INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS zL ON zL.idAreaAccion=d.idAreaAccion INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE a.estadoF='$datos[0]' and a.perioIngreso='$aniosPeriodos__ingesos' AND l5.nombreZonal = '".$zonal[0][descripcionZonal]."';";

			}		


			$dataTablets=$objeto->getDatatablets2($query);

			echo json_encode($dataTablets);

		break;
		
		case "seguimiento__tablas__recibidos__presupuestario":

			$zonal=$objeto->getObtenerInformacionGeneral("SELECT a.zonal,b.descripcionZonal FROM th_usuario AS a INNER JOIN th_zonal AS b ON a.zonal=b.id_Zonal WHERE a.id_usuario='$datos[0]';");


			if ($datos[1]==4 && $zonal[0][zonal]>1) {

				$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal,(SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo),'1') AS contadorTr,YEAR(a.fecha) AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a2.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idCompetenciaOrganismo DESC LIMIT 1) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idCompetenciaOrganismo DESC LIMIT 1) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft,(SELECT if(a3.idAreaAccion=9 OR a3.idAreaAccion=14,'ALTO RENDIMIENTO',if(a3.idAreaAccion=13,'RECREACION','FORMATIVO')) FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idCompetenciaOrganismo DESC LIMIT 1) AS areaAccionTipos ,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a2.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo  WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idCompetenciaOrganismo DESC LIMIT 1) AS areaAccionTipos2  FROM poa_trimestrales AS a INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE l5.nombreZonal = '".$zonal[0][descripcionZonal]."' AND (a.estadoF IS NULL OR a.estado='$datos[0]') AND a.perioIngreso='$aniosPeriodos__ingesos'";

			}
			//else if($datos[1]==4 && $zonal[0][zonal]>1){
				// $query="SELECT a.nombreZonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS ruc, (SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreParroquia, c.tipoTrimestre, c.fecha, c.esigeft, c.esigeft from poa_organismo_zonal AS a INNER JOIN poa_organismo AS b ON a.idOrganismo = b.idOrganismo INNER JOIN poa_trimestrales AS c ON a.idOrganismo = c.idOrganismo WHERE a.nombreZonal = 'ZONAL 8' AND a.perioIngreso ='2022'
				// ";
			// 	 $query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1),(SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.esigeft,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo LIMIT 1) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo LIMIT 1),'1') AS contadorTr,YEAR(a.fecha) AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.presidente, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) IS NOT NULL,'SI','NO')) AS esigeft,IF(zL.accion='RecreaciÃ³n','RECREACIÓN','FORMATIVO') AS tipoAccion,REPLACE(a.tipoTrimestre,'Trimestre',' ') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo FROM poa_trimestrales AS a INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS zL ON zL.idAreaAccion=d.idAreaAccion INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE a.perioIngreso='$aniosPeriodos__ingesos' and (a.estadoF IS NULL OR a.estadoF='$datos[0]') AND l5.nombreZonal = '".$zonal[0][descripcionZonal]."';";
			// 	//l5.nombreZonal='".$zonal[0][descripcionZonal]."' AND
			// }else{

			// 	 $query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1),(SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.esigeft,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo LIMIT 1) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo LIMIT 1),'1') AS contadorTr,YEAR(a.fecha) AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.presidente, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) IS NOT NULL,'SI','NO')) AS esigeft,IF(zL.accion='RecreaciÃ³n','RECREACIÓN','FORMATIVO') AS tipoAccion,REPLACE(a.tipoTrimestre,'Trimestre',' ') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo FROM poa_trimestrales AS a INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS zL ON zL.idAreaAccion=d.idAreaAccion INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE a.estadoF='$datos[0]' and a.perioIngreso='$aniosPeriodos__ingesos' AND l5.nombreZonal = '".$zonal[0][descripcionZonal]."';";

			// }		


			$dataTablets=$objeto->getDatatablets2($query);

			echo json_encode($dataTablets);

		break;

		case "seguimiento__tablas__alto__rendimientos":

			$zonal=$objeto->getObtenerInformacionGeneral("SELECT a.zonal,b.descripcionZonal FROM th_usuario AS a INNER JOIN th_zonal AS b ON a.zonal=b.id_Zonal WHERE a.id_usuario='$datos[0]';");

			if ($datos[1]==7 && $datos[2]==24) {
			
				$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo),'1') AS contadorTr,a.perioIngreso AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo FROM poa_trimestrales AS a INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo  WHERE NOT EXISTS (SELECT idOrganismo FROM poa_seguimiento_control_cambios t2 WHERE t2.idOrganismo = a.idOrganismo AND t2.trimestre=a.tipoTrimestre AND t2.perioIngreso='$aniosPeriodos__ingesos') AND (a.estadoAl IS NULL OR a.estadoAl='$datos[0]') AND (d.nombreTipo LIKE '%ecuatorianas por%' OR d.nombreTipo LIKE '%pico Ecuatoriano%'  OR d.nombreTipo LIKE '%Federaciones Ecuatorianas de Deporte Adaptado%' OR d.nombreTipo LIKE '%Militar Ecuatoriana%' OR d.nombreTipo LIKE '%Policial Ecuatoriana%') AND a.tipoTrimestre!='primerTrimestre' AND a.tipoTrimestre!='tercerTrimestre' AND a.perioIngreso='$aniosPeriodos__ingesos' ORDER BY a.idEnviadorTrimestres;";

			}else if($datos[1]==4 && $datos[2]==2){

				$query="SELECT (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo LIMIT 1) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo LIMIT 1),'1') AS contadorTr,a.perioIngreso AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) IS NOT NULL,'SI','NO')) AS esigeft,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo FROM poa_trimestrales AS a INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo  WHERE  (a.financiero IS NULL OR a.financiero='$datos[0]') AND a.tipoTrimestre!='primerTrimestre' AND a.tipoTrimestre!='tercerTrimestre' AND a.perioIngreso='$aniosPeriodos__ingesos' AND EXISTS (SELECT t.idProgramacionFinanciera FROM poa_programacion_financiera AS t WHERE t.idOrganismo=a.idOrganismo AND t.idActividad='1' LIMIT 1) ORDER BY a.idEnviadorTrimestres;";

				
			}else if(($datos[1]==2 || $datos[1]==3) && $datos[2]==23){

				$query="SELECT (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo),'1') AS contadorTr,a.perioIngreso AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo FROM poa_trimestrales AS a INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo  WHERE a.financiero='$datos[0]' AND a.tipoTrimestre!='primerTrimestre' AND a.tipoTrimestre!='tercerTrimestre' AND a.perioIngreso='$aniosPeriodos__ingesos' AND EXISTS (SELECT t.idProgramacionFinanciera FROM poa_programacion_financiera AS t WHERE t.idOrganismo=a.idOrganismo AND t.idActividad='1') ORDER BY a.idEnviadorTrimestres;";

				
			}else{

				$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo),'1') AS contadorTr,a.perioIngreso AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo FROM poa_trimestrales AS a INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo  WHERE a.estadoAl='$datos[0]' AND a.tipoTrimestre!='primerTrimestre' AND a.tipoTrimestre!='tercerTrimestre' AND a.perioIngreso='$aniosPeriodos__ingesos'  ORDER BY a.idEnviadorTrimestres;";


			}

			$dataTablets=$objeto->getDatatablets2($query);

			echo json_encode($dataTablets);

		break;


		case "seguimiento__recorridos__tablas2023":

			$zonal=$objeto->getObtenerInformacionGeneral("SELECT a.zonal,b.descripcionZonal FROM th_usuario AS a INNER JOIN th_zonal AS b ON a.zonal=b.id_Zonal WHERE a.id_usuario='$datos[0]';");
			
			$nombre=$zonal[0][descripcionZonal];

			

			$nombre1="";
			if(strcmp($nombre, "PLANTA CENTRAL") == 0 ){
				$nombre1="or w.nombreZonal = 'ZONAL 2' or w.nombreZonal = 'ZONAL 3'";
			}

		
			$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS rucOrganismos,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismos,(SELECT a2.nombreProvincia FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS provincia,(SELECT a2.nombreCanton FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT a2.nombreParroquia FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia,REPLACE(a.tipoTrimestre,'Trimestre','') AS tipoTrimestress,a.fecha,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a3 ON a3.idTipoOrganismo=a3.idTipoOrganismo WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idCompetenciaOrganismo DESC LIMIT 1) AS nombreTipo,a.idOrganismo,a.tipoTrimestre FROM poa_trimestrales AS a INNER JOIN poa_organismo_zonal as w on w.idOrganismo = a.idOrganismo   WHERE a.perioIngreso='$aniosPeriodos__ingesos' AND (w.nombreZonal like '%$nombre%' $nombre1 ) GROUP BY a.tipoTrimestre, a.idOrganismo ORDER BY YEAR(a.fecha) DESC;";
			


			$dataTablets=$objeto->getDatatablets2($query);

			echo json_encode($dataTablets);


		break;	

		//**********************************  INFRAESTRUCTURA RECOMENDADOS   ******************************** */
		// case "seguimiento__tablas__seguimientos__recomendados__instalaciones":
	
		// 		if ($datos[1]==4) {
	
		// 			$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, b.ruc,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(b.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreOrganismo, (SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia, (SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton, (SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia, a.tipoTrimestre, a.fecha, if(e.idAreaAccion=13,'RECREACION','FORMATIVO') AS rotuloRecreativos,a.idOrganismo, IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft, REPLACE(a.tipoTrimestre,'Trimestre',' ') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo FROM poa_trimestrales AS a INNER JOIN poa_organismo AS b ON a.idOrganismo=b.idOrganismo INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS e ON e.idAreaAccion=d.idAreaAccion INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE (a.estadoIR='$datos[0]' OR a.estadoIR='N/A' OR a.estadoInR='$datos[0]' OR a.estadoInR='N/A' AND a.perioIngreso='$aniosPeriodos__ingesos') AND l5.nombreZonal!='ZONAL 6' AND l5.nombreZonal!='ZONAL 7' AND l5.nombreZonal!='ZONAL 8' AND l5.nombreZonal!='ZONAL 1' AND l5.nombreZonal!='ZONAL 4' AND a.tipoTrimestre!='primerTrimestre' AND a.tipoTrimestre!='tercerTrimestre' AND a.perioIngreso='$aniosPeriodos__ingesos' GROUP BY a.tipoTrimestre,a.idOrganismo;";
	
		// 		}else if($datos[1]==2 && $datos[2]==6){
	 
		// 			$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, b.ruc,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(b.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreOrganismo, (SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia, (SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton, (SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia,a.tipoTrimestre,a.fecha,if(e.idAreaAccion=13,'RECREACION','FORMATIVO') AS rotuloRecreativos,a.idOrganismo, IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft,REPLACE(a.tipoTrimestre,'Trimestre',' ') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo FROM poa_trimestrales AS a INNER JOIN poa_organismo AS b ON a.idOrganismo=b.idOrganismo INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS e ON e.idAreaAccion=d.idAreaAccion INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE a.estadoInR='$datos[0]' AND l5.nombreZonal!='ZONAL 6' AND l5.nombreZonal!='ZONAL 7' AND l5.nombreZonal!='ZONAL 8' AND l5.nombreZonal!='ZONAL 1' AND l5.nombreZonal!='ZONAL 4' AND a.tipoTrimestre!='primerTrimestre' AND a.tipoTrimestre!='tercerTrimestre' AND a.perioIngreso='$aniosPeriodos__ingesos';";
	
		// 		}else{
	
		// 			$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, b.ruc,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(b.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia, (SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton, (SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia, a.tipoTrimestre,a.fecha,if(e.idAreaAccion=13,'RECREACION','FORMATIVO') AS rotuloRecreativos,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft,REPLACE(a.tipoTrimestre,'Trimestre',' ') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo FROM poa_trimestrales AS a INNER JOIN poa_organismo AS b ON a.idOrganismo=b.idOrganismo INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS e ON e.idAreaAccion=d.idAreaAccion INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE a.estadoIR='$datos[0]' AND l5.nombreZonal!='ZONAL 6' AND l5.nombreZonal!='ZONAL 7' AND l5.nombreZonal!='ZONAL 8' AND l5.nombreZonal!='ZONAL 1' AND l5.nombreZonal!='ZONAL 4' AND a.tipoTrimestre!='primerTrimestre' AND a.tipoTrimestre!='tercerTrimestre' AND a.perioIngreso='$aniosPeriodos__ingesos';";
	
		// 		}
	
		// 		$dataTablets=$objeto->getDatatablets2($query);
	
		// 		echo json_encode($dataTablets);
	
	
		// break;

		case "seguimiento__tablas__seguimientos__recomendados__instalaciones":

			$zonal=$objeto->getObtenerInformacionGeneral("SELECT a.zonal,b.descripcionZonal FROM th_usuario AS a INNER JOIN th_zonal AS b ON a.zonal=b.id_Zonal WHERE a.id_usuario='$datos[0]';");
	
			if ($datos[1]==4) {

				$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, b.ruc,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(b.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreOrganismo, (SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia, (SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton, (SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia, a.tipoTrimestre, a.fecha, if(e.idAreaAccion=13,'RECREACION','FORMATIVO') AS rotuloRecreativos,a.idOrganismo, IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft, IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo FROM poa_trimestrales AS a INNER JOIN poa_organismo AS b ON a.idOrganismo=b.idOrganismo INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS e ON e.idAreaAccion=d.idAreaAccion INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE (a.estadoIR='$datos[0]' OR a.estadoIR='N/A' OR a.estadoInR='$datos[0]' OR a.estadoInR='N/A' AND a.perioIngreso='$aniosPeriodos__ingesos') AND l5.nombreZonal!='ZONAL 6' AND l5.nombreZonal!='ZONAL 7' AND l5.nombreZonal!='ZONAL 8' AND l5.nombreZonal!='ZONAL 1' AND l5.nombreZonal!='ZONAL 4' AND a.tipoTrimestre!='primerTrimestre' AND a.tipoTrimestre!='tercerTrimestre' AND a.perioIngreso='$aniosPeriodos__ingesos' GROUP BY a.tipoTrimestre,a.idOrganismo;";

			}else if($datos[1]==2 && $datos[2]==6){
 
				$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, b.ruc,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(b.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreOrganismo, (SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia, (SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton, (SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia,a.tipoTrimestre,a.fecha,if(e.idAreaAccion=13,'RECREACION','FORMATIVO') AS rotuloRecreativos,a.idOrganismo, IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo FROM poa_trimestrales AS a INNER JOIN poa_organismo AS b ON a.idOrganismo=b.idOrganismo INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS e ON e.idAreaAccion=d.idAreaAccion INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE a.estadoInR='$datos[0]' AND l5.nombreZonal!='ZONAL 6' AND l5.nombreZonal!='ZONAL 7' AND l5.nombreZonal!='ZONAL 8' AND l5.nombreZonal!='ZONAL 1' AND l5.nombreZonal!='ZONAL 4' AND a.tipoTrimestre!='primerTrimestre' AND a.tipoTrimestre!='tercerTrimestre' AND a.perioIngreso='$aniosPeriodos__ingesos';";

			}else if($datos[1]==2 && $datos[2]==15){

				$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, b.ruc,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(b.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia, (SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton, (SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia, a.tipoTrimestre,a.fecha,if(e.idAreaAccion=13,'RECREACION','FORMATIVO') AS rotuloRecreativos,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo FROM poa_trimestrales AS a INNER JOIN poa_organismo AS b ON a.idOrganismo=b.idOrganismo INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS e ON e.idAreaAccion=d.idAreaAccion INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE a.estadoIR='$datos[0]' AND l5.nombreZonal!='ZONAL 6' AND l5.nombreZonal!='ZONAL 7' AND l5.nombreZonal!='ZONAL 8' AND l5.nombreZonal!='ZONAL 1' AND l5.nombreZonal!='ZONAL 4' AND a.tipoTrimestre!='primerTrimestre' AND a.tipoTrimestre!='tercerTrimestre' AND a.perioIngreso='$aniosPeriodos__ingesos';";

			}
			if($datos[1]==4 && $zonal[0][zonal]>1){
				
				$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, b.ruc,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(b.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreOrganismo, (SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia, (SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton, (SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia, a.tipoTrimestre, a.fecha, if(e.idAreaAccion=13,'RECREACION','FORMATIVO') AS rotuloRecreativos,a.idOrganismo, IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft, IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo FROM poa_trimestrales AS a INNER JOIN poa_organismo AS b ON a.idOrganismo=b.idOrganismo INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS e ON e.idAreaAccion=d.idAreaAccion INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE (a.estadoIR='$datos[0]' OR a.estadoIR='N/A' OR a.estadoInR='$datos[0]' OR a.estadoInR='N/A' AND a.perioIngreso='$aniosPeriodos__ingesos') AND l5.nombreZonal ='".$zonal[0][descripcionZonal]."' AND a.tipoTrimestre!='primerTrimestre' AND a.tipoTrimestre!='tercerTrimestre' AND a.perioIngreso='$aniosPeriodos__ingesos' GROUP BY a.tipoTrimestre,a.idOrganismo;";
			}

			$dataTablets=$objeto->getDatatablets2($query);

			echo json_encode($dataTablets);


		break;

		//**********************************  REPORTE DE REMENTES   ******************************** */
		case "tablaResumenRemanente__2":


			
			$zonal=$objeto->getObtenerInformacionGeneral("SELECT a.zonal,b.descripcionZonal FROM th_usuario AS a INNER JOIN th_zonal AS b ON a.zonal=b.id_Zonal WHERE a.id_usuario='$datos[1]';");
			
			$nombre=$zonal[0][descripcionZonal];

			

			$nombre1="";
			if(strcmp($nombre, "PLANTA CENTRAL") == 0 ){
				$nombre1="or w.nombreZonal = 'ZONAL 2' or w.nombreZonal = 'ZONAL 3'";
			}

			$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal,(SELECT a1.Ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc,(SELECT a1.nombreOrganismo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS organismodeportivo,(SELECT a2.nombreTipo FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a2.idTipoOrganismo=a1.idTipoOrganismo WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS competenciaOrganismo,(select b.nombreProvincia from poa_organismo as ap inner join in_md_provincias as b on b.idProvincia=ap.idProvincia WHERE ap.idOrganismo=a.idOrganismo) as provincia,(select b.nombreCanton from poa_organismo as ac inner join in_md_canton as b on b.idCanton=ac.idCanton WHERE ac.idOrganismo=a.idOrganismo) AS canton,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS email,(SELECT a1.nombreResponsablePoa FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS representante,a.fecha,a.monto__resumen ,a.remanentePoa__remanentes ,IFNULL((SELECT GROUP_CONCAT(CONCAT_WS(': ',a1.aniosAniosAnteriores,a1.montosAniosAnteriores) SEPARATOR ';') FROM poa_remanentes_anios_anteriores AS a1 WHERE a1.idInformacionGeneral=a.idInformacionGeneral),0) AS anios__anteriores,a.asignaciones__futuras,(SELECT a1.documento FROM poa_remanentes_documentos AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.perioIngreso='$aniosPeriodos__ingesos' ORDER BY a1.idDocumentoRe DESC LIMIT 1) AS documento,a.archivo AS documento2 FROM poa_remanentes_informacion_organismo AS a INNER JOIN poa_organismo_zonal as w on w.idOrganismo = a.idOrganismo WHERE a.perioIngreso='$aniosPeriodos__ingesos' and (w.nombreZonal like '%$nombre%' $nombre1 ) GROUP BY a.idOrganismo ORDER BY a.idInformacionGeneral DESC;";

			$dataTablets=$objeto->getDatatablets($query);

			echo json_encode($dataTablets);

		break;

		//**********************************  seguimiento__bloqueos   ******************************** */
		case "seguimiento__bloqueosTablaTrimestres":

			$query="SELECT a.ruc,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreOrganismo,(SELECT a2.nombreProvincia FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS provincia,(SELECT a2.nombreCanton FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT a2.nombreParroquia FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia,a.idOrganismo,(SELECT a1.estado FROM poa_seguimiento_bloqueo AS a1 WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idBloqueos__seguimientos DESC LIMIT 1) AS estado,(SELECT a1.estado FROM poa_seguimiento_bloqueo_2 AS a1 WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idBloqueos__seguimientos DESC LIMIT 1) AS estado2,(SELECT a1.estado FROM poa_seguimiento_bloqueo_3 AS a1 WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idBloqueos__seguimientos DESC LIMIT 1) AS estado3,(SELECT a1.estado FROM poa_seguimiento_bloqueo_4 AS a1 WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idBloqueos__seguimientos DESC LIMIT 1) AS estado4 FROM poa_organismo AS a;";

			$dataTablets=$objeto->getDatatablets2($query);

			echo json_encode($dataTablets);


		break;	
		
		//**********************************  Estado Envio Información Trimestral   ******************************** */
		case "organismos__totalesVerificas":

			$zonal=$objeto->getObtenerInformacionGeneral("SELECT a.zonal,b.descripcionZonal FROM th_usuario AS a INNER JOIN th_zonal AS b ON a.zonal=b.id_Zonal WHERE a.id_usuario='$datos[0]';");
			
			$nombre=$zonal[0][descripcionZonal];

			$nombre1="";
			if(strcmp($nombre, "PLANTA CENTRAL") == 0 ){
				$nombre1="or w.nombreZonal = 'ZONAL 2' or w.nombreZonal = 'ZONAL 3' or w.nombreZonal = 'ZONAL 4' or w.nombreZonal = 'ZONAL 5'or w.nombreZonal = 'ZONAL 6'or w.nombreZonal = 'ZONAL 7'or w.nombreZonal = 'ZONAL 8'or w.nombreZonal = 'ZONAL 1'";
			}

			$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc, (SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,(SELECT a2.nombreTipo FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a2.idTipoOrganismo=a1.idTipoOrganismo WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS competenciaOrganismo,(SELECT a2.nombreProvincia FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS provincia,(SELECT a2.nombreCanton FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS email,a.perioIngreso AS anio,(SELECT if(a1.idEnviadorTrimestres IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='primerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS trimestre1,(SELECT a1.FECHA FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='primerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS fechaPrimero,(SELECT if(a1.idEnviadorTrimestres IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='segundoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS segundo2,(SELECT a1.FECHA FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='segundoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS fechaSegundo,(SELECT if(a1.idEnviadorTrimestres IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='tercerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS tercer3,(SELECT a1.FECHA FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='tercerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS fechaTercero,(SELECT if(a1.idEnviadorTrimestres IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='cuartoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS cuarto4,(SELECT a1.FECHA FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='cuartoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS fechaCuarto FROM poa_documentofinal AS a INNER JOIN poa_organismo_zonal as w on w.idOrganismo = a.idOrganismo WHERE a.perioIngreso='$aniosPeriodos__ingesos' and (w.nombreZonal like '%$nombre%' $nombre1  ) GROUP BY a.idOrganismo ORDER BY a.idOrganismo ASC;
			";


			$dataTablets=$objeto->getDatatablets2($query);

			echo json_encode($dataTablets);


		break;	

		//**********************************  Reportes y Anexos  ******************************** */
		case "seguimiento__reportes__anexosOD2023":

			$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS rucOrganismo,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,CONCAT_WS('------',IF(a.tipoTrimestre='primerTrimestre' AND a.estado='T' AND a.perioIngreso='$aniosPeriodos__ingesos',(SELECT a1.documentos FROM poa_seguimiento_recomendado_tecnico_seguimientos AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='primerTrimestre' AND a1.perioIngreso='$aniosPeriodos__ingesos' ORDER BY a1.idSeguimientosRecomendadosTe DESC LIMIT 1),'N/A'),IF(a.tipoTrimestre='primerTrimestre' AND (a.estadoAl='T' OR a.estadoF='T') AND a.perioIngreso='$aniosPeriodos__ingesos',(SELECT a1.archivo FROM poa_seguimiento_recomendado_tecnico AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='primerTrimestre' AND a1.perioIngreso='$aniosPeriodos__ingesos' ORDER BY a1.idInformacionEnviada DESC LIMIT 1),'N/A'),IF(a.tipoTrimestre='primerTrimestre' AND a.estadoI='T' AND a.perioIngreso='$aniosPeriodos__ingesos',(SELECT a1.documentoInfras FROM poa_seguimiento_recomienda_tecnicos AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='primerTrimestre' AND a1.perioIngreso='$aniosPeriodos__ingesos' AND a1.tipoE='INFRA' ORDER BY a1.idRecomendacionFuncionario DESC LIMIT 1),'N/A')) AS documentosPrimerTrimestre,CONCAT_WS('------',IF(a.tipoTrimestre='segundoTrimestre' AND a.estado='T' AND a.perioIngreso='$aniosPeriodos__ingesos',(SELECT a1.documentos FROM poa_seguimiento_recomendado_tecnico_seguimientos AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='segundoTrimestre' AND a1.perioIngreso='$aniosPeriodos__ingesos' ORDER BY a1.idSeguimientosRecomendadosTe DESC LIMIT 1),'N/A'),IF(a.tipoTrimestre='segundoTrimestre' AND (a.estadoAl='T' OR a.estadoF='T') AND a.perioIngreso='$aniosPeriodos__ingesos',(SELECT a1.archivo FROM poa_seguimiento_recomendado_tecnico AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='segundoTrimestre' AND a1.perioIngreso='$aniosPeriodos__ingesos' ORDER BY a1.idInformacionEnviada DESC LIMIT 1),'N/A'),IF(a.tipoTrimestre='segundoTrimestre' AND a.estadoI='T' AND a.perioIngreso='$aniosPeriodos__ingesos',(SELECT a1.documentoInfras FROM poa_seguimiento_recomienda_tecnicos AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='segundoTrimestre' AND a1.perioIngreso='$aniosPeriodos__ingesos' AND a1.tipoE='INFRA' ORDER BY a1.idRecomendacionFuncionario DESC LIMIT 1),'N/A')) AS documentosSegundoTrimestre,CONCAT_WS('------',IF(a.tipoTrimestre='tercerTrimestre' AND a.estado='T' AND a.perioIngreso='$aniosPeriodos__ingesos',(SELECT a1.documentos FROM poa_seguimiento_recomendado_tecnico_seguimientos AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='tercerTrimestre' AND a1.perioIngreso='$aniosPeriodos__ingesos' ORDER BY a1.idSeguimientosRecomendadosTe DESC LIMIT 1),'N/A'),IF(a.tipoTrimestre='tercerTrimestre' AND (a.estadoAl='T' OR a.estadoF='T') AND a.perioIngreso='$aniosPeriodos__ingesos',(SELECT a1.archivo FROM poa_seguimiento_recomendado_tecnico AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='segundoTrimestre' AND a1.perioIngreso='$aniosPeriodos__ingesos' ORDER BY a1.idInformacionEnviada DESC LIMIT 1),'N/A'),IF(a.tipoTrimestre='tercerTrimestre' AND a.estadoI='T' AND a.perioIngreso='$aniosPeriodos__ingesos',(SELECT a1.documentoInfras FROM poa_seguimiento_recomienda_tecnicos AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='tercerTrimestre' AND a1.perioIngreso='$aniosPeriodos__ingesos' AND a1.tipoE='INFRA' ORDER BY a1.idRecomendacionFuncionario DESC LIMIT 1),'N/A')) AS documentosTercerTrimestre,CONCAT_WS('------',IF(a.tipoTrimestre='cuartoTrimestre' AND a.estado='T' AND a.perioIngreso='$aniosPeriodos__ingesos',(SELECT a1.documentos FROM poa_seguimiento_recomendado_tecnico_seguimientos AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='cuartoTrimestre' AND a1.perioIngreso='$aniosPeriodos__ingesos' ORDER BY a1.idSeguimientosRecomendadosTe DESC LIMIT 1),'N/A'),IF(a.tipoTrimestre='cuartoTrimestre' AND (a.estadoAl='T' OR a.estadoF='T') AND a.perioIngreso='$aniosPeriodos__ingesos',(SELECT a1.archivo FROM poa_seguimiento_recomendado_tecnico AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='cuartoTrimestre' AND a1.perioIngreso='$aniosPeriodos__ingesos' ORDER BY a1.idInformacionEnviada DESC LIMIT 1),'N/A'),IF(a.tipoTrimestre='cuartoTrimestre' AND a.estadoI='T' AND a.perioIngreso='$aniosPeriodos__ingesos',(SELECT a1.documentoInfras FROM poa_seguimiento_recomienda_tecnicos AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='cuartoTrimestre' AND a1.perioIngreso='$aniosPeriodos__ingesos' AND a1.tipoE='INFRA' ORDER BY a1.idRecomendacionFuncionario DESC LIMIT 1),'N/A')) AS documentosCuartoTrimestre,(SELECT IF(a3.accion='Deporte','FORMATIVO',IF(a3.accion='RecreaciÃ³n','RECREACION','ALTO RENDIMIENTO')) FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idCompetenciaOrganismo LIMIT 1) AS tiposFormativos,a.idOrganismo,YEAR(a.fecha) AS anio FROM poa_trimestrales AS a INNER JOIN poa_organismo_zonal as w on w.idOrganismo = a.idOrganismo WHERE a.perioIngreso='$aniosPeriodos__ingesos' AND a.idOrganismo='$idOrganismoSession'  GROUP BY a.idOrganismo;";

			$dataTablets=$objeto->getDatatablets2($query);

			echo json_encode($dataTablets);


		break;	

		//**********************************  Reportes y Anexos  ******************************** */
		case "seguimiento__reportes__anexos2023":

			$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS rucOrganismo,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,CONCAT_WS('------',IF(a.tipoTrimestre='primerTrimestre' AND a.estado='T' AND a.perioIngreso='$aniosPeriodos__ingesos',(SELECT a1.documentos FROM poa_seguimiento_recomendado_tecnico_seguimientos AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='primerTrimestre' AND a1.perioIngreso='$aniosPeriodos__ingesos' ORDER BY a1.idSeguimientosRecomendadosTe DESC LIMIT 1),'N/A'),IF(a.tipoTrimestre='primerTrimestre' AND (a.estadoAl='T' OR a.estadoF='T') AND a.perioIngreso='$aniosPeriodos__ingesos',(SELECT a1.archivo FROM poa_seguimiento_recomendado_tecnico AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='primerTrimestre' AND a1.perioIngreso='$aniosPeriodos__ingesos' ORDER BY a1.idInformacionEnviada DESC LIMIT 1),'N/A'),IF(a.tipoTrimestre='primerTrimestre' AND a.estadoI='T' AND a.perioIngreso='$aniosPeriodos__ingesos',(SELECT a1.documentoInfras FROM poa_seguimiento_recomienda_tecnicos AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='primerTrimestre' AND a1.perioIngreso='$aniosPeriodos__ingesos' AND a1.tipoE='INFRA' ORDER BY a1.idRecomendacionFuncionario DESC LIMIT 1),'N/A')) AS documentosPrimerTrimestre,CONCAT_WS('------',IF(a.tipoTrimestre='segundoTrimestre' AND a.estado='T' AND a.perioIngreso='$aniosPeriodos__ingesos',(SELECT a1.documentos FROM poa_seguimiento_recomendado_tecnico_seguimientos AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='segundoTrimestre' AND a1.perioIngreso='$aniosPeriodos__ingesos' ORDER BY a1.idSeguimientosRecomendadosTe DESC LIMIT 1),'N/A'),IF(a.tipoTrimestre='segundoTrimestre' AND (a.estadoAl='T' OR a.estadoF='T') AND a.perioIngreso='$aniosPeriodos__ingesos',(SELECT a1.archivo FROM poa_seguimiento_recomendado_tecnico AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='segundoTrimestre' AND a1.perioIngreso='$aniosPeriodos__ingesos' ORDER BY a1.idInformacionEnviada DESC LIMIT 1),'N/A'),IF(a.tipoTrimestre='segundoTrimestre' AND a.estadoI='T' AND a.perioIngreso='$aniosPeriodos__ingesos',(SELECT a1.documentoInfras FROM poa_seguimiento_recomienda_tecnicos AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='segundoTrimestre' AND a1.perioIngreso='$aniosPeriodos__ingesos' AND a1.tipoE='INFRA' ORDER BY a1.idRecomendacionFuncionario DESC LIMIT 1),'N/A')) AS documentosSegundoTrimestre,CONCAT_WS('------',IF(a.tipoTrimestre='tercerTrimestre' AND a.estado='T' AND a.perioIngreso='$aniosPeriodos__ingesos',(SELECT a1.documentos FROM poa_seguimiento_recomendado_tecnico_seguimientos AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='tercerTrimestre' AND a1.perioIngreso='$aniosPeriodos__ingesos' ORDER BY a1.idSeguimientosRecomendadosTe DESC LIMIT 1),'N/A'),IF(a.tipoTrimestre='tercerTrimestre' AND (a.estadoAl='T' OR a.estadoF='T') AND a.perioIngreso='$aniosPeriodos__ingesos',(SELECT a1.archivo FROM poa_seguimiento_recomendado_tecnico AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='segundoTrimestre' AND a1.perioIngreso='$aniosPeriodos__ingesos' ORDER BY a1.idInformacionEnviada DESC LIMIT 1),'N/A'),IF(a.tipoTrimestre='tercerTrimestre' AND a.estadoI='T' AND a.perioIngreso='$aniosPeriodos__ingesos',(SELECT a1.documentoInfras FROM poa_seguimiento_recomienda_tecnicos AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='tercerTrimestre' AND a1.perioIngreso='$aniosPeriodos__ingesos' AND a1.tipoE='INFRA' ORDER BY a1.idRecomendacionFuncionario DESC LIMIT 1),'N/A')) AS documentosTercerTrimestre,CONCAT_WS('------',IF(a.tipoTrimestre='cuartoTrimestre' AND a.estado='T' AND a.perioIngreso='$aniosPeriodos__ingesos',(SELECT a1.documentos FROM poa_seguimiento_recomendado_tecnico_seguimientos AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='cuartoTrimestre' AND a1.perioIngreso='$aniosPeriodos__ingesos' ORDER BY a1.idSeguimientosRecomendadosTe DESC LIMIT 1),'N/A'),IF(a.tipoTrimestre='cuartoTrimestre' AND (a.estadoAl='T' OR a.estadoF='T') AND a.perioIngreso='$aniosPeriodos__ingesos',(SELECT a1.archivo FROM poa_seguimiento_recomendado_tecnico AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='cuartoTrimestre' AND a1.perioIngreso='$aniosPeriodos__ingesos' ORDER BY a1.idInformacionEnviada DESC LIMIT 1),'N/A'),IF(a.tipoTrimestre='cuartoTrimestre' AND a.estadoI='T' AND a.perioIngreso='$aniosPeriodos__ingesos',(SELECT a1.documentoInfras FROM poa_seguimiento_recomienda_tecnicos AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='cuartoTrimestre' AND a1.perioIngreso='$aniosPeriodos__ingesos' AND a1.tipoE='INFRA' ORDER BY a1.idRecomendacionFuncionario DESC LIMIT 1),'N/A')) AS documentosCuartoTrimestre,(SELECT IF(a3.accion='Deporte','FORMATIVO',IF(a3.accion='RecreaciÃ³n','RECREACION','ALTO RENDIMIENTO')) FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idCompetenciaOrganismo LIMIT 1) AS tiposFormativos,a.idOrganismo,YEAR(a.fecha) AS anio FROM poa_trimestrales AS a INNER JOIN poa_organismo_zonal as w on w.idOrganismo = a.idOrganismo WHERE a.perioIngreso='$aniosPeriodos__ingesos'  GROUP BY a.idOrganismo;";

			$dataTablets=$objeto->getDatatablets2($query);

			echo json_encode($dataTablets);


		break;	
		
		//**********************************  Estado Envio Información Trimestral   ******************************** */
		case "organismos__ContratacionPublica":

					$zonal=$objeto->getObtenerInformacionGeneral("SELECT a.zonal,b.descripcionZonal FROM th_usuario AS a INNER JOIN th_zonal AS b ON a.zonal=b.id_Zonal WHERE a.id_usuario='$datos[0]';");
					
					$nombre=$zonal[0][descripcionZonal];
		
					$nombre1="";
					if(strcmp($nombre, "PLANTA CENTRAL") == 0 ){
						$nombre1="or w.nombreZonal = 'ZONAL 2' or w.nombreZonal = 'ZONAL 3' or w.nombreZonal = 'ZONAL 4' or w.nombreZonal = 'ZONAL 5'or w.nombreZonal = 'ZONAL 6'or w.nombreZonal = 'ZONAL 7'or w.nombreZonal = 'ZONAL 8'or w.nombreZonal = 'ZONAL 1'";
					}
		
					$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc, (SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,(SELECT a2.nombreTipo FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a2.idTipoOrganismo=a1.idTipoOrganismo WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS competenciaOrganismo,(SELECT a2.nombreProvincia FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS provincia,(SELECT a2.nombreCanton FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS email,a.perioIngreso AS anio,(SELECT if(a1.id_declaracion_contratacion_publica IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_seguimiento_declaracion_contratacion_publica AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='primerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.id_declaracion_contratacion_publica DESC LIMIT 1) AS trimestre1,(SELECT a1.FECHA FROM poa_seguimiento_declaracion_contratacion_publica AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='primerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.id_declaracion_contratacion_publica DESC LIMIT 1) AS fechaPrimero,(SELECT if(a1.id_declaracion_contratacion_publica IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_seguimiento_declaracion_contratacion_publica AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='segundoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.id_declaracion_contratacion_publica DESC LIMIT 1) AS segundo2,(SELECT a1.FECHA FROM poa_seguimiento_declaracion_contratacion_publica AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='segundoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.id_declaracion_contratacion_publica DESC LIMIT 1) AS fechaSegundo,(SELECT if(a1.id_declaracion_contratacion_publica IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_seguimiento_declaracion_contratacion_publica AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='tercerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.id_declaracion_contratacion_publica DESC LIMIT 1) AS tercer3,(SELECT a1.FECHA FROM poa_seguimiento_declaracion_contratacion_publica AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='tercerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.id_declaracion_contratacion_publica DESC LIMIT 1) AS fechaTercero,(SELECT if(a1.id_declaracion_contratacion_publica IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_seguimiento_declaracion_contratacion_publica AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='cuartoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.id_declaracion_contratacion_publica DESC LIMIT 1) AS cuarto4,(SELECT a1.FECHA FROM poa_seguimiento_declaracion_contratacion_publica AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='cuartoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.id_declaracion_contratacion_publica DESC LIMIT 1) AS fechaCuarto, (SELECT a1.documento FROM poa_seguimiento_declaracion_contratacion_publica AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='primerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.id_declaracion_contratacion_publica DESC LIMIT 1) AS documento,(SELECT a1.documento FROM poa_seguimiento_declaracion_contratacion_publica AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='segundoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.id_declaracion_contratacion_publica DESC LIMIT 1) AS documento2,(SELECT a1.documento FROM poa_seguimiento_declaracion_contratacion_publica AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='tercerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.id_declaracion_contratacion_publica DESC LIMIT 1) AS documento3,(SELECT a1.documento FROM poa_seguimiento_declaracion_contratacion_publica AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='cuartoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.id_declaracion_contratacion_publica DESC LIMIT 1) AS documento4   FROM poa_documentofinal AS a INNER JOIN poa_organismo_zonal as w on w.idOrganismo = a.idOrganismo WHERE a.perioIngreso='$aniosPeriodos__ingesos' and (w.nombreZonal like '%$nombre%' $nombre1  ) GROUP BY a.idOrganismo ORDER BY a.idOrganismo ASC;
					";
		
		
					$dataTablets=$objeto->getDatatablets2($query);
		
					echo json_encode($dataTablets);
		
		
		break;	


		//**********************************  Reporteria Anual  ******************************** */
		case "seguimiento__reporteria__anualRE2023":

			$zonal=$objeto->getObtenerInformacionGeneral("SELECT a.zonal,b.descripcionZonal FROM th_usuario AS a INNER JOIN th_zonal AS b ON a.zonal=b.id_Zonal WHERE a.id_usuario='$datos[0]';");
					
			$nombre=$zonal[0][descripcionZonal];
		
			$nombre1="";
			if(strcmp($nombre, "PLANTA CENTRAL") == 0 ){
						$nombre1="or w.nombreZonal = 'ZONAL 2' or w.nombreZonal = 'ZONAL 3' or w.nombreZonal = 'ZONAL 4' or w.nombreZonal = 'ZONAL 5'or w.nombreZonal = 'ZONAL 6'or w.nombreZonal = 'ZONAL 7'or w.nombreZonal = 'ZONAL 8'or w.nombreZonal = 'ZONAL 1'";
			}

			$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc, (SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,(SELECT a2.nombreTipo FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a2.idTipoOrganismo=a1.idTipoOrganismo WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS competenciaOrganismo,(SELECT a2.nombreProvincia FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS provincia,(SELECT a2.nombreCanton FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS email,a.perioIngreso AS anio, a.idOrganismo  FROM poa_documentofinal AS a INNER JOIN poa_organismo_zonal as w on w.idOrganismo = a.idOrganismo WHERE a.perioIngreso='$aniosPeriodos__ingesos' and (w.nombreZonal like '%$nombre%' $nombre1  ) GROUP BY a.idOrganismo ORDER BY a.idOrganismo ASC;";

			$dataTablets=$objeto->getDatatablets2($query);

			echo json_encode($dataTablets);


		break;	


		//************************************* decalaracion de contratacion publica  Reporteria Anual Revisor****************************//
		case "dt_seguimiento__documentacionGenerada_cp_Revisor":


			// $query="SELECT a.fecha AS fechaCP, REPLACE(a.tipoTrimestre,'Trimestre','') AS trimestreCP, (SELECT a1.documento FROM poa_seguimiento_declaracion_contratacion_publica AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre=a.tipoTrimestre ORDER BY a1.id_declaracion_contratacion_publica DESC LIMIT 1) AS documentoCP,(SELECT a1.documento FROM poa_seguimiento_docuento_final AS a1 WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idDocumento_seguimiento DESC LIMIT 1) AS documento2CP FROM poa_trimestrales AS a WHERE a.idOrganismo='$idOrganismoSession' AND a.perioIngreso='$aniosPeriodos__ingesos' GROUP BY a.tipoTrimestre ORDER BY a.idEnviadorTrimestres DESC;";

			$query="SELECT (SELECT d1.fecha FROM poa_seguimiento_declaracion_contratacion_publica AS d1 WHERE d1.idOrganismo=a.idOrganismo ORDER BY d1.id_declaracion_contratacion_publica DESC LIMIT 1) AS fechaCP, REPLACE(a.tipoTrimestre,'Trimestre','') AS trimestreCP, (SELECT a1.documento FROM poa_seguimiento_declaracion_contratacion_publica AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre=a.tipoTrimestre ORDER BY a1.id_declaracion_contratacion_publica DESC LIMIT 1) AS documentoCP,(SELECT a1.documento FROM poa_seguimiento_docuento_final AS a1 WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idDocumento_seguimiento DESC LIMIT 1) AS documento2CP FROM poa_trimestrales AS a WHERE a.idOrganismo='$datos' AND a.perioIngreso='$aniosPeriodos__ingesos' GROUP BY a.tipoTrimestre ORDER BY a.idEnviadorTrimestres ASC;";


			$dataTablets=$objeto->getDatatablets2($query);

			echo json_encode($dataTablets);
		break;

		//************************************* autogestionesRevisor ****************************//
		case "seguimiento__autogestionesRevisor":

			$query="SELECT detalleAu,ROUND(montoAu,2) AS monto,detalleDos,REPLACE(trimestre,'Trimestre',' ') AS periodo,perioIngreso AS anio FROM poa_segimiento_montos_autogestion WHERE idOrganismo='$datos' AND perioIngreso='$aniosPeriodos__ingesos' ORDER BY YEAR(fecha) DESC;";

			$dataTablets=$objeto->getDatatablets($query);

			echo json_encode($dataTablets);

		break;

		//************************************* seguimiento__UsoCorrectoRecursos Revisor ****************************//
		case "seguimiento__UsoCorrectoRecursosRevisor":

			// $query="SELECT a.fecha AS fecha,REPLACE(a.tipoTrimestre,'Trimestre','') AS trimestre,(SELECT a1.documento FROM poa_seguimiento_declaracion AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre=a.tipoTrimestre ORDER BY a1.idDeclaracion DESC LIMIT 1) AS documento,(SELECT a1.documento FROM poa_seguimiento_docuento_final AS a1 WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idDocumento_seguimiento DESC LIMIT 1) AS documento2  FROM poa_trimestrales AS a WHERE a.idOrganismo='$idOrganismoSession' AND a.perioIngreso='$aniosPeriodos__ingesos' GROUP BY a.tipoTrimestre ORDER BY a.idEnviadorTrimestres DESC;";

			$query="SELECT (SELECT d1.fecha FROM poa_seguimiento_declaracion AS d1 WHERE d1.idOrganismo=a.idOrganismo ORDER BY d1.idDeclaracion DESC LIMIT 1) AS fecha, REPLACE(a.tipoTrimestre,'Trimestre','') AS trimestre,(SELECT a1.documento FROM poa_seguimiento_declaracion AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre=a.tipoTrimestre and a1.perioIngreso=a.perioIngreso ORDER BY a1.idDeclaracion DESC LIMIT 1) AS documento,(SELECT a1.documento FROM poa_seguimiento_docuento_final AS a1 WHERE a1.idOrganismo=a.idOrganismo and a1.perioIngreso=a.perioIngreso ORDER BY a1.idDocumento_seguimiento DESC LIMIT 1) AS documento2  FROM poa_trimestrales AS a WHERE a.idOrganismo='$datos' AND a.perioIngreso='$aniosPeriodos__ingesos' GROUP BY a.tipoTrimestre ORDER BY a.idEnviadorTrimestres ASC;";

			$dataTablets=$objeto->getDatatablets2($query);

			echo json_encode($dataTablets);


		break;

		//************************************* reporte trimestral anual seguimiento ****************************//
		case "seguimiento__reporte__trimestralRevisor":

			// $query="SELECT a.trimestre, a.fecha, a.documento FROM poa_seguimiento_docuento_final AS a WHERE idOrganismo='$idOrganismoSession' AND perioIngreso='$aniosPeriodos__ingesos' GROUP BY trimestre ORDER BY trimestre ASC ;";

			$query="SELECT (SELECT d1.fecha FROM poa_seguimiento_docuento_final AS d1 WHERE d1.idOrganismo=a.idOrganismo AND d1.perioIngreso=a.perioIngreso  ORDER BY d1.idDocumento_seguimiento DESC LIMIT 1) AS fecha, REPLACE(a.tipoTrimestre,'Trimestre','') AS trimestre, (SELECT a1.documento FROM poa_seguimiento_docuento_final AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre=a.tipoTrimestre and a1.perioIngreso=a.perioIngreso ORDER BY a1.idDocumento_seguimiento DESC LIMIT 1) AS documentoSIF, (SELECT a1.documento FROM poa_seguimiento_docuento_final AS a1 WHERE a1.idOrganismo=a.idOrganismo and a1.perioIngreso=a.perioIngreso ORDER BY a1.idDocumento_seguimiento DESC LIMIT 1) AS documento2SIF  FROM poa_trimestrales AS a INNER JOIN poa_seguimiento_docuento_final AS b ON a.idOrganismo = b.idOrganismo WHERE a.idOrganismo='$datos' AND a.perioIngreso='$aniosPeriodos__ingesos' GROUP BY a.tipoTrimestre ORDER BY a.idEnviadorTrimestres ASC;";
			

			$dataTablets=$objeto->getDatatablets2($query);

			echo json_encode($dataTablets);


		break;	

		//************************************* reporte administrativas anual seguimiento ****************************//

		case "seguimiento__administrativasRevisor":

			$query="SELECT d.itemPreesupuestario,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreItem, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombres,a.mensualProgramado,a.mensualEjecutado,a.mes,REPLACE(a.trimestre,'Trimestre',' ') AS trimestre,e.registra_Contratacion,e.justificacion,a.perioIngreso AS anio FROM poa_seguimiento_administrativo AS a INNER JOIN poa_actividadesadministrativas AS b ON a.idAdministrativo=b.idActividadAd INNER JOIN poa_programacion_financiera AS c ON b.idProgramacionFinanciera=c.idProgramacionFinanciera INNER JOIN poa_item AS d ON d.idItem=c.idItem Left join poa_registro_contratacion as e on a.trimestre = e.trimestre and a.idOrganismo = e.idOrganismo and d.idItem = e.idItemCatalogo WHERE a.idOrganismo='$datos' AND a.perioIngreso='$aniosPeriodos__ingesos' ORDER BY YEAR(a.fecha) DESC;";

			$dataTablets=$objeto->getDatatablets($query);

			echo json_encode($dataTablets);

		break;


		//************************************* reporte indicadores anual seguimiento ****************************//


		case "seguimiento__indicadoresRevisor":

			$query="SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(b.nombreActividades, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS actividadNombres,a.totalProgramado,a.totalEjecutado,REPLACE(a.trimestre,'Trimestre',' ') AS periodo,a.perioIngreso AS fecha FROM poa_indicadores_seguimiento AS a INNER JOIN poa_actividades AS b ON a.idActividad=b.idActividades WHERE a.idOrganismo='$datos' AND a.perioIngreso='$aniosPeriodos__ingesos' ORDER BY YEAR(a.fecha) DESC;";

			$dataTablets=$objeto->getDatatablets2($query);

			echo json_encode($dataTablets);

		break;

		//************************************* reporte recreativo anual seguimiento ****************************//


		case "seguimiento__recreativoRevisorPres":

			$query="SELECT d.itemPreesupuestario,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreItem, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombres,a.mensualProgramado,a.mensualEjecutado,a.mes,REPLACE(a.trimestre,'Trimestre',' ') AS trimestre, e.registra_Contratacion,e.justificacion,a.perioIngreso AS anio FROM poa_segimiento_recreativos AS a INNER JOIN poa_actdeportivas AS b ON a.idAdministrativo=b.idPda INNER JOIN poa_programacion_financiera AS c ON b.idProgramacionFinanciera=c.idProgramacionFinanciera INNER JOIN poa_item AS d ON d.idItem=c.idItem LEFT JOIN poa_registro_contratacion as e on e.trimestre = a.trimestre and e.idItemCatalogo=c.idItem WHERE a.idOrganismo='$datos' AND a.perioIngreso='$aniosPeriodos__ingesos' GROUP BY d.itemPreesupuestario,a.mensualProgramado,a.mensualEjecutado,a.mes  ORDER BY YEAR(a.fecha) DESC;";

			$dataTablets=$objeto->getDatatablets($query);

			echo json_encode($dataTablets);

		break;

		case "seguimiento__recreativoTecRevisor":

			$query="SELECT d.itemPreesupuestario,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreItem, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombres,a.observacionesTecnicas,a.porcentaje,a.beneficiariosHombres,a.beneficiariosMujeres,a.totalT,a.fechaInicioP,a.fechaInicioEjecutado,a.fechaFinP,a.fechaFinEjecutado,a.tipoEvento,a.eventoTareaE,a.nivel,a.total,a.tipoOrganizacion,a.nombreOrganismo,REPLACE(a.trimestre,'Trimestre',' ') AS trimestre,a.perioIngreso AS anio FROM poa_seguimiento_recreativo_tecnico AS a INNER JOIN poa_actdeportivas AS b ON a.idAdministrativo=b.idPda INNER JOIN poa_programacion_financiera AS c ON b.idProgramacionFinanciera=c.idProgramacionFinanciera INNER JOIN poa_item AS d ON d.idItem=c.idItem WHERE a.idOrganismo='$datos' AND a.perioIngreso='$aniosPeriodos__ingesos' ORDER BY YEAR(a.fecha) DESC;";

			$dataTablets=$objeto->getDatatablets($query);

			echo json_encode($dataTablets);

		break;

	//************************************* reporte sueldos__salarios anual seguimiento ****************************//


	case "seguimiento__sueldos__salariosRevisor":

		$query="SELECT (SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(b1.nombreActividades, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') FROM poa_sueldossalarios2022 AS a1 INNER JOIN poa_actividades AS b1 ON a1.idActividad=b1.idActividades WHERE a1.idSueldos=a.idSueldosSalarios) AS actividad,b.cedula,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(b.nombres, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombres,b.cargo,b.tipoCargo ,a.sueldoSalarioPlanificado,a.sueldoSalarioEjecutado,a.aporteIessPlanificado,a.aporteIessEjecutado,a.decimoTerceroPlanificado,a.decimoTerceroEjecutado,a.decimoCuartoPlanificado,a.decimoCuartoEjecutado,a.fondosReservasPlanificado,a.fondosReservasEjecutado,a.compensacionDeshaucioProgramado,a.compensacionDeshaucioEjecutado,a.despidoIntepestivoProgramado,a.despidoIntepestivoEjecutado,a.reunciaVoluntariaProgramado,a.renunciaVoluntariaEjecutado,a.vacacionesProgramado,a.vacionesEjecutado,a.mes,REPLACE(a.periodo,'Trimestre',' ') AS periodo,a.perioIngreso AS anio FROM poa_seguimiento_sueldos_salarios AS a INNER JOIN poa_sueldossalarios2022 AS b ON a.idSueldosSalarios=b.idSueldos WHERE a.idOrganismo='$datos' AND a.perioIngreso='$aniosPeriodos__ingesos' ORDER BY YEAR(a.fecha) DESC;";

		$dataTablets=$objeto->getDatatablets($query);

		echo json_encode($dataTablets);

	break;

	//************************************* reporte honorarios anual seguimiento ****************************//

	case "seguimiento__honorariosRevisor":

		$query="SELECT (SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(b1.nombreActividades, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') FROM poa_honorarios2022 AS a1 INNER JOIN poa_actividades AS b1 ON a1.idActividad=b1.idActividades WHERE a1.idHonorarios=a.idHonorarios) AS actividad,b.cedula,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(b.nombres, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombres,b.cargo,b.tipoCargo,a.mensualProgramado,a.mensualEjecutado,a.mes,REPLACE(a.trimestre,'Trimestre',' ') AS trimestre,a.perioIngreso AS fechaPro FROM poa_seguimiento_honorarios AS a INNER JOIN poa_honorarios2022 AS b ON a.idHonorarios=b.idHonorarios WHERE a.idOrganismo='$datos' AND a.perioIngreso='$aniosPeriodos__ingesos' ORDER BY YEAR(a.fecha) DESC;";

		$dataTablets=$objeto->getDatatablets2($query);

		echo json_encode($dataTablets);

	break;

	//************************************* reporte mantenimientos anual seguimiento ****************************//

	case "seguimiento__mantenimientosPresRevisor":

		$query="SELECT d.itemPreesupuestario,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreItem, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombres,a.mensualProgramado,a.mensualEjecutado,a.mes,REPLACE(a.trimestre,'Trimestre',' ') AS trimestre,e.registra_Contratacion,e.justificacion,a.perioIngreso AS anio FROM poa_segimiento_mantenimiento AS a INNER JOIN poa_mantenimiento AS b ON a.idAdministrativo=b.idMantenimiento INNER JOIN poa_programacion_financiera AS c ON b.idProgramacionFinanciera=c.idProgramacionFinanciera INNER JOIN poa_item AS d ON d.idItem=c.idItem LEFT JOIN poa_registro_contratacion as e on e.trimestre = a.trimestre and e.idItemCatalogo=c.idItem WHERE a.idOrganismo='$datos' AND a.perioIngreso='$aniosPeriodos__ingesos' ORDER BY YEAR(a.fecha) DESC;";

		$dataTablets=$objeto->getDatatablets($query);

		echo json_encode($dataTablets);

	break;

	case "seguimiento__mantenimientosTecRevisor":

		$query="SELECT d.itemPreesupuestario,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreItem, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombres,a.planificadoInicial,a.ejecutadoInicial,a.planificadoFinal,a.ejectuadoFinal,a.observacionesTecnicas,a.porcentaje,REPLACE(a.trimestre,'Trimestre',' ') AS trimestre,a.perioIngreso AS anio FROM poa_seguimiento_mantenimiento_tecnico AS a INNER JOIN poa_mantenimiento AS b ON a.idAdministrativo=b.idMantenimiento INNER JOIN poa_programacion_financiera AS c ON b.idProgramacionFinanciera=c.idProgramacionFinanciera INNER JOIN poa_item AS d ON d.idItem=c.idItem WHERE a.idOrganismo='$datos' AND a.perioIngreso='$aniosPeriodos__ingesos' ORDER BY YEAR(a.fecha) DESC;";

		$dataTablets=$objeto->getDatatablets($query);

		echo json_encode($dataTablets);

	break;

	//************************************* reporte competencia anual seguimiento ****************************//

	case "seguimiento__competenciaPresRevisor":

		$query="SELECT d.itemPreesupuestario,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreItem, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombres,a.mensualProgramado,a.mensualEjecutado,a.mes,REPLACE(a.trimestre,'Trimestre',' ') AS trimestre, e.registra_Contratacion,e.justificacion,a.perioIngreso AS anio FROM poa_segimiento_competencias AS a INNER JOIN poa_actdeportivas AS b ON a.idAdministrativo=b.idPda INNER JOIN poa_programacion_financiera AS c ON b.idProgramacionFinanciera=c.idProgramacionFinanciera INNER JOIN poa_item AS d ON d.idItem=c.idItem LEFT JOIN poa_registro_contratacion as e on e.trimestre = a.trimestre and e.idItemCatalogo=c.idItem WHERE a.idOrganismo='$datos' AND a.perioIngreso='$aniosPeriodos__ingesos' group by  d.itemPreesupuestario,a.mes,b.idPda,a.mensualProgramado, a.mensualEjecutado ORDER BY YEAR(a.fecha)  DESC;";

		$dataTablets=$objeto->getDatatablets($query);

		echo json_encode($dataTablets);

	break;

	case "seguimiento__competenciaForRevisor":

		$query="SELECT d.itemPreesupuestario,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreItem, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombres,a.evento,a.oro,a.plata,a.bronce,a.total,a.cuarOc,a.analisis,a.observacionesTecnicas,a.porcentaje,a.beneficiariosHombres,a.beneficiariosMujeres,a.totalT,a.tipoOrganizacion,a.ruc,a.nombreOrganismo,a.fecha1,a.fecha2,a.fecha3,a.fecha4,REPLACE(a.trimestre,'Trimestre',' ') AS trimestre,a.perioIngreso AS anio FROM poa_seguimiento_competencia_formativo AS a INNER JOIN poa_actdeportivas AS b ON a.idAdministrativo=b.idPda INNER JOIN poa_programacion_financiera AS c ON b.idProgramacionFinanciera=c.idProgramacionFinanciera INNER JOIN poa_item AS d ON d.idItem=c.idItem WHERE a.idOrganismo='$datos' AND a.perioIngreso='$aniosPeriodos__ingesos' ORDER BY YEAR(a.fecha) DESC;";

		$dataTablets=$objeto->getDatatablets($query);

		echo json_encode($dataTablets);

	break;

	case "seguimiento__competenciaAltoRevisor":

		$query="SELECT d.itemPreesupuestario,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreItem, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombres,a.evento,a.oro,a.plata,a.bronce,a.total,a.cuarOc,a.analisis,a.observacionesTecnicas,a.porcentaje,a.beneficiariosHombres,a.beneficiariosMujeres,a.totalT,a.tipoOrganizacion,a.ruc,a.nombreOrganismo,a.fecha1,a.fecha2,a.fecha3,a.fecha4,REPLACE(a.trimestre,'Trimestre',' ') AS trimestre,a.perioIngreso AS anio FROM poa_seguimiento_competencia_alto2 AS a INNER JOIN poa_actdeportivas AS b ON a.idAdministrativo=b.idPda INNER JOIN poa_programacion_financiera AS c ON b.idProgramacionFinanciera=c.idProgramacionFinanciera INNER JOIN poa_item AS d ON d.idItem=c.idItem WHERE a.idOrganismo='$datos' AND a.perioIngreso='$aniosPeriodos__ingesos' ORDER BY YEAR(a.fecha) DESC;";

		$dataTablets=$objeto->getDatatablets($query);

		echo json_encode($dataTablets);

	break;

	//************************************* reporte implementacion anual seguimiento ****************************//

	case "seguimiento__implementacionRevisor":

		$query="SELECT d.itemPreesupuestario,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreItem, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombres,a.mensualProgramado,a.mensualEjecutado,a.mes,REPLACE(a.trimestre,'Trimestre',' ') AS trimestre, e.registra_Contratacion,e.justificacion,a.perioIngreso AS anio FROM poa_segimiento_implementacion AS a INNER JOIN poa_actdeportivas AS b ON a.idAdministrativo=b.idPda INNER JOIN poa_programacion_financiera AS c ON b.idProgramacionFinanciera=c.idProgramacionFinanciera INNER JOIN poa_item AS d ON d.idItem=c.idItem LEFT JOIN poa_registro_contratacion as e on e.trimestre = a.trimestre and e.idItemCatalogo=c.idItem WHERE a.idOrganismo='$datos' AND a.perioIngreso='$aniosPeriodos__ingesos' ORDER BY YEAR(a.fecha) DESC;";

		$dataTablets=$objeto->getDatatablets($query);

		echo json_encode($dataTablets);

	break;

	//************************************* reporte capacitacion anual seguimiento ****************************//

	case "seguimiento__capacitacionTecniRevisor":

		$query="SELECT d.itemPreesupuestario,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreItem, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombres,a.planificadoInicial,a.ejecutadoInicial,a.planificadoFinal,a.ejectuadoFinal,a.observacionesTecnicas,a.porcentaje,a.beneficiariosHombres,a.beneficiariosMujeres,a.totalT,a.tipoOrganizacion,a.ruc,a.nombreOrganismo,REPLACE(a.trimestre,'Trimestre',' ') AS trimestre,a.perioIngreso AS anio FROM poa_seguimiento_capacitacion_tecnico AS a INNER JOIN poa_actdeportivas AS b ON a.idAdministrativo=b.idPda INNER JOIN poa_programacion_financiera AS c ON b.idProgramacionFinanciera=c.idProgramacionFinanciera INNER JOIN poa_item AS d ON d.idItem=c.idItem WHERE a.idOrganismo='$datos' AND a.perioIngreso='$aniosPeriodos__ingesos' ORDER BY YEAR(a.fecha) DESC;";

		$dataTablets=$objeto->getDatatablets($query);

		echo json_encode($dataTablets);

	break;

	case "seguimiento__capacitacionPresRevisor":

		$query="SELECT d.itemPreesupuestario, REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreItem, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombres,a.mensualProgramado,a.mensualEjecutado,a.mes,REPLACE(a.trimestre,'Trimestre',' ') AS trimestre, e.registra_Contratacion,e.justificacion, a.perioIngreso AS anio FROM poa_segimiento_capacitacion AS a INNER JOIN poa_actdeportivas AS b ON a.idAdministrativo=b.idPda INNER JOIN poa_programacion_financiera AS c ON b.idProgramacionFinanciera=c.idProgramacionFinanciera INNER JOIN poa_item AS d ON d.idItem=c.idItem LEFT JOIN poa_registro_contratacion as e on e.trimestre = a.trimestre and e.idItemCatalogo=c.idItem WHERE a.idOrganismo='$datos' AND a.perioIngreso='$aniosPeriodos__ingesos' ORDER BY YEAR(a.fecha) DESC;";

		$dataTablets=$objeto->getDatatablets($query);

		echo json_encode($dataTablets);

	break;

	case "seguimiento__competencia__2":

	  $query="SELECT a.perioIngreso AS anio, REPLACE(a.trimestre,'Trimestre',' ') AS trimestre, a.mes, d.itemPreesupuestario, REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreItem, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombres,a.mensualProgramado,a.mensualEjecutado as mensualEjecutado FROM poa_segimiento_competencias AS a   INNER JOIN poa_actdeportivas AS b ON a.idAdministrativo=b.idPda INNER JOIN poa_programacion_financiera AS c ON c.idProgramacionFinanciera=b.idProgramacionFinanciera INNER JOIN poa_item AS d ON d.idItem=c.idItem LEFT JOIN poa_registro_contratacion as e on e.trimestre = a.trimestre and e.idItemCatalogo=c.idItem and e.perioIngreso=a.perioIngreso and e.idActividad = c.idActividad WHERE a.idOrganismo='$datos[0]' AND a.trimestre='$datos[1]' AND a.perioIngreso='$aniosPeriodos__ingesos'  GROUP BY d.itemPreesupuestario,a.mes,b.idPda,a.mensualProgramado, a.mensualEjecutado  ORDER BY YEAR(a.fecha) DESC;";

	  $dataTablets=$objeto->getDatatablets2($query);

	  echo json_encode($dataTablets);

  	break;

	case "seguimiento__autogestiones__2":


		$query="SELECT detalleAu,ROUND(montoAu,2) AS monto,detalleDos,REPLACE(trimestre,'Trimestre',' ') AS periodo,YEAR(fecha) AS anio FROM poa_segimiento_montos_autogestion WHERE idOrganismo='$datos[0]' AND perioIngreso='$aniosPeriodos__ingesos' AND trimestre='$datos[1]' ORDER BY YEAR(fecha) DESC;";

		$dataTablets=$objeto->getDatatablets($query);

		echo json_encode($dataTablets);

	break;

	case "seguimiento__recreativoTec__2":


		$query="SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreItem, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombres,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(e.nombreEvento, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') as nombreEvento,a.observacionesTecnicas,a.beneficiariosHombres,a.beneficiariosMujeres,a.totalT,a.beneficiariosHombres18,a.beneficiariosMujeres18,a.totalT18,a.fechaInicioP,a.fechaInicioEjecutado,a.fechaFinP,a.fechaFinEjecutado,a.tipoOrganizacion,a.ruc,a.nombreOrganismo,REPLACE(a.trimestre,'Trimestre',' ') AS trimestre,YEAR(a.fecha) AS anio FROM poa_seguimiento_recreativo_tecnico AS a INNER JOIN poa_actdeportivas AS b ON a.idAdministrativo=b.idPda INNER JOIN poa_programacion_financiera AS c ON b.idProgramacionFinanciera=c.idProgramacionFinanciera INNER JOIN poa_item AS d ON d.idItem=c.idItem INNER JOIN poa_actdeportivas AS e ON a.idAdministrativo=e.idPda WHERE a.idOrganismo='$datos[0]' AND a.trimestre='$datos[1]' AND a.perioIngreso='$aniosPeriodos__ingesos' ORDER BY YEAR(a.fecha) DESC;";

		$dataTablets=$objeto->getDatatablets($query);

		echo json_encode($dataTablets);

 	break;

	case "seguimiento__competenciaFor__2":


		$query="SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreItem, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombres,b.nombreEvento AS evento,a.oro,a.plata,a.bronce,a.total,a.cuarOc,a.analisis,a.observacionesTecnicas,a.porcentaje,a.beneficiariosHombres,a.beneficiariosMujeres,a.totalT,a.tipoOrganizacion,a.ruc,a.nombreOrganismo,a.fecha1,a.fecha2,a.fecha3,a.fecha4,REPLACE(a.trimestre,'Trimestre',' ') AS trimestre,YEAR(a.fecha) AS anio FROM poa_seguimiento_competencia_formativo AS a INNER JOIN poa_actdeportivas AS b ON a.idAdministrativo=b.idPda INNER JOIN poa_programacion_financiera AS c ON b.idProgramacionFinanciera=c.idProgramacionFinanciera INNER JOIN poa_item AS d ON d.idItem=c.idItem WHERE a.idOrganismo='$datos[0]' AND a.trimestre='$datos[1]' AND a.perioIngreso='$aniosPeriodos__ingesos' ORDER BY YEAR(a.fecha) DESC;";

		$dataTablets=$objeto->getDatatablets($query);

		echo json_encode($dataTablets);

	break;

	case "seguimiento__mantenimientosTec__2":

		$query="SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreItem, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombres,a.planificadoInicial,a.ejecutadoInicial,a.planificadoFinal,a.ejectuadoFinal,a.observacionesTecnicas,a.porcentaje,REPLACE(a.trimestre,'Trimestre',' ') AS trimestre,YEAR(a.fecha) AS anio FROM poa_seguimiento_mantenimiento_tecnico AS a INNER JOIN poa_mantenimiento AS b ON a.idAdministrativo=b.idMantenimiento INNER JOIN poa_programacion_financiera AS c ON b.idProgramacionFinanciera=c.idProgramacionFinanciera INNER JOIN poa_item AS d ON d.idItem=c.idItem WHERE a.idOrganismo='$datos[0]' AND a.trimestre='$datos[1]' AND YEAR(a.fecha)='$datos[2]' AND a.perioIngreso='$aniosPeriodos__ingesos' ORDER BY YEAR(a.fecha) DESC;";


		$dataTablets=$objeto->getDatatablets($query);

		echo json_encode($dataTablets);

	break;

	case "seguimiento__capacitacionTecni__2":

	  $query="SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreItem, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombres,a.planificadoInicial,a.ejecutadoInicial,a.planificadoFinal,a.ejectuadoFinal,a.observacionesTecnicas,a.porcentaje,a.beneficiariosHombres,a.beneficiariosMujeres,a.totalT,a.tipoOrganizacion,a.ruc,a.nombreOrganismo,REPLACE(a.trimestre,'Trimestre',' ') AS trimestre,YEAR(a.fecha) AS anio FROM poa_seguimiento_capacitacion_tecnico AS a INNER JOIN poa_actdeportivas AS b ON a.idAdministrativo=b.idPda INNER JOIN poa_programacion_financiera AS c ON b.idProgramacionFinanciera=c.idProgramacionFinanciera INNER JOIN poa_item AS d ON d.idItem=c.idItem WHERE a.idOrganismo='$datos[0]' AND a.trimestre='$datos[1]' AND a.perioIngreso='$aniosPeriodos__ingesos' ORDER BY YEAR(a.fecha) DESC;";

	  $dataTablets=$objeto->getDatatablets($query);

	  echo json_encode($dataTablets);

 	break;

	case "seguimiento__competenciaAlto__2":


		$query="SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreItem, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombres,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(e.nombreEvento, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreEvento,a.oro,a.plata,a.bronce,a.total,a.cuarOc,a.analisis,a.observacionesTecnicas,a.porcentaje,a.beneficiariosHombres,a.beneficiariosMujeres,a.totalT,a.tipoOrganizacion,a.ruc,a.nombreOrganismo,a.fecha1,a.fecha2,a.fecha3,a.fecha4,REPLACE(a.trimestre,'Trimestre',' ') AS trimestre,YEAR(a.fecha) AS anio FROM poa_seguimiento_competencia_alto2 AS a INNER JOIN poa_actdeportivas AS b ON a.idAdministrativo=b.idPda INNER JOIN poa_programacion_financiera AS c ON b.idProgramacionFinanciera=c.idProgramacionFinanciera INNER JOIN poa_item AS d ON d.idItem=c.idItem INNER JOIN poa_actdeportivas AS e ON a.idAdministrativo=e.idPda WHERE a.idOrganismo='$datos[0]' AND a.trimestre='$datos[1]' AND a.perioIngreso='$aniosPeriodos__ingesos' ORDER BY YEAR(a.fecha) DESC;";

		$dataTablets=$objeto->getDatatablets($query);

		echo json_encode($dataTablets);

	break;

	case "seguimiento__indicadores__2":


		$query="SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(b.nombreActividades, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS actividadNombres,REPLACE(a.trimestre,'Trimestre',' ') AS periodo,YEAR(a.fecha) AS fecha,a.totalProgramado,a.totalEjecutado,a.documento FROM poa_indicadores_seguimiento AS a INNER JOIN poa_actividades AS b ON a.idActividad=b.idActividades WHERE a.idOrganismo='$datos[0]' AND a.trimestre='$datos[1]' AND a.perioIngreso='$aniosPeriodos__ingesos' ORDER BY YEAR(a.fecha) DESC;";

		$dataTablets=$objeto->getDatatablets($query);

		echo json_encode($dataTablets);

	break;

	case "seguimiento__implementacion__2":


	  $query="SELECT a.perioIngreso AS anio, REPLACE(a.trimestre,'Trimestre',' ') AS trimestre, a.mes, d.itemPreesupuestario, REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreItem, 'ÃƒÂ¡', 'Ã¡'),'ÃƒÂ©','Ã©'),'ÃƒÂ­','Ã­'),'ÃƒÂ³','Ã³'),'ÃƒÂº','Ãº'),'Ãƒâ€°','Ã‰'),'ÃƒÅ’','Ã'),'Ãƒâ€œ','Ã“'),'ÃƒÅ¡','Ãš'),'ÃƒÂ±','Ã±'),'Ãƒâ€˜','Ã‘'),'&#039;',' ` '),'ÃƒÂ','Ã'),'Â',' '),'Ãƒ','Ã'),'SIÂ','SI'),'Ã¢â‚¬Å“',''),'Ã¢â‚¬',''),'ÃÂ²','Ã³') AS nombres,a.mensualProgramado,SUM(a.mensualEjecutado) as mensualEjecutado FROM poa_segimiento_implementacion AS a INNER JOIN poa_actdeportivas AS b ON a.idAdministrativo=b.idPda INNER JOIN poa_programacion_financiera AS c ON b.idProgramacionFinanciera=c.idProgramacionFinanciera INNER JOIN poa_item AS d ON d.idItem=c.idItem  WHERE a.idOrganismo='$datos[0]' AND a.trimestre='$datos[1]' AND a.perioIngreso='$aniosPeriodos__ingesos' GROUP BY d.nombreItem,a.mes,b.idPda  ORDER BY YEAR(a.fecha) DESC;";

	  $dataTablets=$objeto->getDatatablets2($query);

	  echo json_encode($dataTablets);

  	break;

	case "seguimiento__sueldos__salarios__2":


		$query="SELECT b.idActividad,b.cedula,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(b.nombres, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombres,a.sueldoSalarioPlanificado,a.sueldoSalarioEjecutado,a.aporteIessPlanificado,a.aporteIessEjecutado,a.decimoTerceroPlanificado,a.decimoTerceroEjecutado,a.decimoCuartoPlanificado,a.decimoCuartoEjecutado,a.fondosReservasPlanificado,a.fondosReservasEjecutado,a.compensacionDeshaucioProgramado,a.compensacionDeshaucioEjecutado,a.despidoIntepestivoProgramado,a.despidoIntepestivoEjecutado,a.reunciaVoluntariaProgramado,a.renunciaVoluntariaEjecutado,a.vacacionesProgramado,a.vacionesEjecutado,a.mes,REPLACE(a.periodo,'Trimestre',' ') AS periodo,YEAR(a.fecha) AS anio  FROM poa_seguimiento_sueldos_salarios AS a INNER JOIN poa_sueldossalarios2022 AS b ON a.idSueldosSalarios=b.idSueldos WHERE a.idOrganismo='$datos[0]' AND a.periodo='$datos[1]' AND a.perioIngreso='$aniosPeriodos__ingesos' ORDER BY YEAR(a.fecha) DESC;";

		$dataTablets=$objeto->getDatatablets($query);

		echo json_encode($dataTablets);

	break;

	case "seguimiento__honorarios__2":


		$query="SELECT b.idActividad,b.cedula,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(b.nombres, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombres,a.mes,REPLACE(a.trimestre,'Trimestre',' ') AS trimestre,YEAR(a.fecha) AS fechaPro, a.mensualProgramado,SUM(a.mensualEjecutado) as mensualEjecutado FROM poa_seguimiento_honorarios AS a INNER JOIN poa_honorarios2022 AS b ON a.idHonorarios=b.idHonorarios WHERE a.idOrganismo='$datos[0]' AND a.trimestre='$datos[1]' AND a.perioIngreso='$aniosPeriodos__ingesos' GROUP BY b.cedula,a.mes,b.idHonorarios ORDER BY YEAR(a.fecha) DESC;";

		//$query="SELECT b.idActividad,b.cedula,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(b.nombres, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombres,a.mes,REPLACE(a.trimestre,'Trimestre',' ') AS trimestre,YEAR(a.fecha) AS fechaPro,a.mensualProgramado,a.mensualEjecutado,l5.documento FROM poa_seguimiento_honorarios AS a INNER JOIN poa_honorarios2022 AS b ON a.idHonorarios=b.idHonorarios INNER JOIN poa_seguimiento_otros_honorarios AS l5 ON l5.idActividadAc=a.idHonorarios WHERE a.idOrganismo='$datos[0]' AND a.trimestre='$datos[1]' AND a.perioIngreso='$aniosPeriodos__ingesos' ORDER BY YEAR(a.fecha) DESC;";

		$dataTablets=$objeto->getDatatablets($query);

		echo json_encode($dataTablets);

	break;

	case "seguimiento__administrativas__2":

	  $query="SELECT a.perioIngreso AS anio, REPLACE(a.trimestre,'Trimestre',' ') AS trimestre, a.mes, d.itemPreesupuestario, REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreItem, 'ÃƒÂ¡', 'Ã¡'),'ÃƒÂ©','Ã©'),'ÃƒÂ­','Ã­'),'ÃƒÂ³','Ã³'),'ÃƒÂº','Ãº'),'Ãƒâ€°','Ã‰'),'ÃƒÅ’','Ã'),'Ãƒâ€œ','Ã“'),'ÃƒÅ¡','Ãš'),'ÃƒÂ±','Ã±'),'Ãƒâ€˜','Ã‘'),'&#039;',' ` '),'ÃƒÂ','Ã'),'Â',' '),'Ãƒ','Ã'),'SIÂ','SI'),'Ã¢â‚¬Å“',''),'Ã¢â‚¬',''),'ÃÂ²','Ã³') AS nombres,a.mensualProgramado,SUM(a.mensualEjecutado) AS mensualEjecutado FROM poa_seguimiento_administrativo AS a INNER JOIN poa_actividadesadministrativas AS b ON a.idAdministrativo=b.idActividadAd INNER JOIN poa_programacion_financiera AS c ON b.idProgramacionFinanciera=c.idProgramacionFinanciera INNER JOIN poa_item AS d ON d.idItem=c.idItem WHERE a.idOrganismo='$datos[0]' AND a.trimestre='$datos[1]' AND a.perioIngreso='$aniosPeriodos__ingesos' GROUP BY d.nombreItem,a.mes,b.idActividadAd ORDER BY YEAR(a.fecha) DESC;";

	  $dataTablets=$objeto->getDatatablets2($query);


	  echo json_encode($dataTablets);

 	break;

	case "seguimiento__mantenimientos__2":

		$query="SELECT a.perioIngreso AS anio, REPLACE(a.trimestre,'Trimestre',' ') AS trimestre, a.mes, d.itemPreesupuestario, REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreItem, 'ÃƒÂ¡', 'Ã¡'),'ÃƒÂ©','Ã©'),'ÃƒÂ­','Ã­'),'ÃƒÂ³','Ã³'),'ÃƒÂº','Ãº'),'Ãƒâ€°','Ã‰'),'ÃƒÅ’','Ã'),'Ãƒâ€œ','Ã“'),'ÃƒÅ¡','Ãš'),'ÃƒÂ±','Ã±'),'Ãƒâ€˜','Ã‘'),'&#039;',' ` '),'ÃƒÂ','Ã'),'Â',' '),'Ãƒ','Ã'),'SIÂ','SI'),'Ã¢â‚¬Å“',''),'Ã¢â‚¬',''),'ÃÂ²','Ã³') AS nombres,a.mensualProgramado,SUM(a.mensualEjecutado) AS mensualEjecutado FROM poa_segimiento_mantenimiento AS a INNER JOIN poa_mantenimiento AS b ON a.idAdministrativo=b.idMantenimiento INNER JOIN poa_programacion_financiera AS c ON b.idProgramacionFinanciera=c.idProgramacionFinanciera INNER JOIN poa_item AS d ON d.idItem=c.idItem WHERE a.idOrganismo='$datos[0]' AND a.trimestre='$datos[1]' AND a.perioIngreso='$aniosPeriodos__ingesos' GROUP BY d.nombreItem,a.mes,b.idMantenimiento ORDER BY YEAR(a.fecha) DESC;";

		$dataTablets=$objeto->getDatatablets2($query);

		echo json_encode($dataTablets);

  	break;

	case "seguimiento__capacitacion__2":

	  $query="SELECT a.perioIngreso AS anio, REPLACE(a.trimestre,'Trimestre',' ') AS trimestre, a.mes, d.itemPreesupuestario, REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreItem, 'ÃƒÂ¡', 'Ã¡'),'ÃƒÂ©','Ã©'),'ÃƒÂ­','Ã­'),'ÃƒÂ³','Ã³'),'ÃƒÂº','Ãº'),'Ãƒâ€°','Ã‰'),'ÃƒÅ’','Ã'),'Ãƒâ€œ','Ã“'),'ÃƒÅ¡','Ãš'),'ÃƒÂ±','Ã±'),'Ãƒâ€˜','Ã‘'),'&#039;',' ` '),'ÃƒÂ','Ã'),'Â',' '),'Ãƒ','Ã'),'SIÂ','SI'),'Ã¢â‚¬Å“',''),'Ã¢â‚¬',''),'ÃÂ²','Ã³') AS nombres,a.mensualProgramado,SUM(a.mensualEjecutado) as mensualEjecutado FROM poa_segimiento_capacitacion AS a INNER JOIN poa_actdeportivas AS b ON a.idAdministrativo=b.idPda INNER JOIN poa_programacion_financiera AS c ON b.idProgramacionFinanciera=c.idProgramacionFinanciera INNER JOIN poa_item AS d ON d.idItem=c.idItem  WHERE a.idOrganismo='$datos[0]' AND a.trimestre='$datos[1]' AND a.perioIngreso='$aniosPeriodos__ingesos' GROUP BY d.nombreItem,a.mes,b.idPda ORDER BY YEAR(a.fecha) DESC;";

	  $dataTablets=$objeto->getDatatablets2($query);

	  echo json_encode($dataTablets);

 	break;

	case "seguimiento__recreativo__2":

		$query="SELECT YEAR(a.fecha) AS anio, REPLACE(a.trimestre,'Trimestre',' ') AS trimestre, a.mes, d.itemPreesupuestario, REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreItem, 'ÃƒÂ¡', 'Ã¡'),'ÃƒÂ©','Ã©'),'ÃƒÂ­','Ã­'),'ÃƒÂ³','Ã³'),'ÃƒÂº','Ãº'),'Ãƒâ€°','Ã‰'),'ÃƒÅ’','Ã'),'Ãƒâ€œ','Ã“'),'ÃƒÅ¡','Ãš'),'ÃƒÂ±','Ã±'),'Ãƒâ€˜','Ã‘'),'&#039;',' ` '),'ÃƒÂ','Ã'),'Â',' '),'Ãƒ','Ã'),'SIÂ','SI'),'Ã¢â‚¬Å“',''),'Ã¢â‚¬',''),'ÃÂ²','Ã³') AS nombres,a.mensualProgramado,SUM(a.mensualEjecutado) as mensualEjecutado FROM poa_segimiento_recreativos AS a INNER JOIN poa_actdeportivas AS b ON a.idAdministrativo=b.idPda INNER JOIN poa_programacion_financiera AS c ON b.idProgramacionFinanciera=c.idProgramacionFinanciera INNER JOIN poa_item AS d ON d.idItem=c.idItem  WHERE a.idOrganismo='$datos[0]' AND a.trimestre='$datos[1]' AND a.perioIngreso='$aniosPeriodos__ingesos' GROUP BY d.nombreItem,a.mes,b.idPda ORDER BY YEAR(a.fecha) DESC;";

		$dataTablets=$objeto->getDatatablets2($query);

		echo json_encode($dataTablets);

	break;

	/**************************  DECLARACION CORRECTO USO DE RECURSOS ADMIN  *********************** */
	case "documentos__verificasDocumentacion":
		
		$zonal=$objeto->getObtenerInformacionGeneral("SELECT a.zonal,b.descripcionZonal FROM th_usuario AS a INNER JOIN th_zonal AS b ON a.zonal=b.id_Zonal WHERE a.id_usuario='$datos[0]';");
					
		$nombre=$zonal[0][descripcionZonal];

		$nombre1="";
		if(strcmp($nombre, "PLANTA CENTRAL") == 0 ){
			$nombre1="or w.nombreZonal = 'ZONAL 2' or w.nombreZonal = 'ZONAL 3' or w.nombreZonal = 'ZONAL 4' or w.nombreZonal = 'ZONAL 5'or w.nombreZonal = 'ZONAL 6'or w.nombreZonal = 'ZONAL 7'or w.nombreZonal = 'ZONAL 8'or w.nombreZonal = 'ZONAL 1'";
		}

		$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc, (SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo, REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(z.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo,(SELECT a2.nombreProvincia FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS provincia,(SELECT a2.nombreCanton FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT a2.nombreParroquia FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia, a.perioIngreso AS anio,(SELECT if(a1.idDeclaracion IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_seguimiento_declaracion AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='primerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idDeclaracion DESC LIMIT 1) AS trimestre1, (SELECT a1.fecha FROM poa_seguimiento_declaracion AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='primerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idDeclaracion DESC LIMIT 1) AS fecha1, (SELECT if(a1.idDeclaracion IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_seguimiento_declaracion AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='segundoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idDeclaracion DESC LIMIT 1) AS trimestre2, (SELECT a1.fecha FROM poa_seguimiento_declaracion AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='segundoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idDeclaracion DESC LIMIT 1) AS fecha2, (SELECT if(a1.idDeclaracion IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_seguimiento_declaracion AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='tercerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idDeclaracion DESC LIMIT 1) AS trimestre3, (SELECT a1.fecha FROM poa_seguimiento_declaracion AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='tercerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idDeclaracion DESC LIMIT 1) AS fecha3, (SELECT if(a1.idDeclaracion IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_seguimiento_declaracion AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='cuartoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idDeclaracion DESC LIMIT 1) AS trimestre4, (SELECT a1.fecha FROM poa_seguimiento_declaracion AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='cuartoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idDeclaracion DESC LIMIT 1) AS fecha4, (SELECT a1.documento FROM poa_seguimiento_declaracion AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='primerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idDeclaracion DESC LIMIT 1) AS documento, (SELECT a1.documento FROM poa_seguimiento_declaracion AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='segundoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idDeclaracion DESC LIMIT 1) AS documento2,(SELECT a1.documento FROM poa_seguimiento_declaracion AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='tercerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idDeclaracion DESC LIMIT 1) AS documento3,(SELECT a1.documento FROM poa_seguimiento_declaracion AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.trimestre='cuartoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idDeclaracion DESC LIMIT 1) AS documento4 FROM poa_documentofinal AS a INNER JOIN poa_organismo_zonal as w on w.idOrganismo = a.idOrganismo INNER JOIN poa_competencia_organismo_competencia AS x ON w.IdOrganismo = x.idOrganismo INNER JOIN poa_tipo_organismo AS z ON x.idTipoOrganismo = z.idTipoOrganismo WHERE a.perioIngreso='$aniosPeriodos__ingesos' AND (w.nombreZonal like '%$nombre%' $nombre1  ) GROUP BY a.idOrganismo ORDER BY a.idOrganismo ASC;";


		$dataTablets=$objeto->getDatatablets2($query);

		echo json_encode($dataTablets);


	break;	

	/*************************************  REMANENTES Monto asignado POA  ******************************* */
	case "seguimiento__tablas__remanentes2023":

		$zonal=$objeto->getObtenerInformacionGeneral("SELECT a.zonal,b.descripcionZonal FROM th_usuario AS a INNER JOIN th_zonal AS b ON a.zonal=b.id_Zonal WHERE a.id_usuario='$datos[0]';");
					
		$nombre=$zonal[0][descripcionZonal];

		$nombre1="";
		if(strcmp($nombre, "PLANTA CENTRAL") == 0 ){
			$nombre1="or w.nombreZonal = 'ZONAL 2' or w.nombreZonal = 'ZONAL 3' or w.nombreZonal = 'ZONAL 4' or w.nombreZonal = 'ZONAL 5'or w.nombreZonal = 'ZONAL 6'or w.nombreZonal = 'ZONAL 7'or w.nombreZonal = 'ZONAL 8'or w.nombreZonal = 'ZONAL 1'";
		}

		$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS ruc,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia,a.idOrganismo FROM poa_organismo AS a INNER JOIN poa_organismo_zonal as w on w.idOrganismo = a.idOrganismo WHERE NOT EXISTS(SELECT t.idRemanentes FROM poa_remanentes_monto_asignacion AS t WHERE t.idOrganismo=a.idOrganismo and t.perioIngreso='$aniosPeriodos__ingesos')";

		$dataTablets=$objeto->getDatatablets2($query);

		echo json_encode($dataTablets);


	break;

	/******************************************  POA APROBADOS DE CADA OD  **************************************************** */
	
	case "poasGestionados":

		$query="SELECT b.ruc,b.nombreOrganismo,(SELECT a1.nombreProvincia FROM in_md_provincias AS a1 WHERE a1.idProvincia=b.idProvincia) AS provincia,(SELECT a1.nombreCanton FROM in_md_canton AS a1 WHERE a1.idCanton=b.idCanton) AS canton,(SELECT a1.nombreParroquia FROM in_md_parroquia AS a1 WHERE a1.idParroquia=b.idParroquia) AS parroquia,a.numeroOficioNoti,a.documento,a.fecha_quipux,a.montoSinDescuentos,a.idOrganismo FROM poa_documentofinal AS a INNER JOIN poa_organismo AS b ON a.idOrganismo=b.idOrganismo WHERE a.perioIngreso='$aniosPeriodos__ingesos' GROUP BY a.idOrganismo;";

		$dataTablets=$objeto->getDatatablets($query);

		echo json_encode($dataTablets);

	break;

	/******************************************  POA APROBADOS DE CADA OD  **************************************************** */
	

	case "tablaResumenTransferencias":

		$zonal=$objeto->getObtenerInformacionGeneral("SELECT a.zonal,b.descripcionZonal FROM th_usuario AS a INNER JOIN th_zonal AS b ON a.zonal=b.id_Zonal WHERE a.id_usuario='$datos[0]';");
					
		$nombre=$zonal[0][descripcionZonal];

		$nombre1="";
	
		if(strpos($nombre, "ZONAL") !== false ){
			$nombre1="WHERE (a.nombreEntidad like '%$nombre%')";
		}


		$query="select a.anio, a.entidad,a.nombreEntidad,a.cur,a.estado,a.nit,a.nomBeneficiario,a.descripcion, b.monto, a.fechaPago, b.cuentaMonetariaDestino, b.fechaConfirmacion, b.nombreEntidadBancaria from poa_seguimiento_transferencias as a INNER JOIN poa_seguimiento_bancos as b on a.nit = b.nit and a.cur=b.cur and a.entidad=b.entidad $nombre1;";

		$dataTablets=$objeto->getDatatablets2($query);

		echo json_encode($dataTablets);


	break;	

	/******************************************  RESUMEN TABLA TRANSFERENCIA Y BANCOS **************************************************** */
	

	case "tabla_bancos":

		

		$query="select nit,nomBeneficiario,cur,entidad,cuentaMonetariaDestino,nombreEntidadBancaria,fechaConfirmacion  from poa_seguimiento_bancos";

		$dataTablets=$objeto->getDatatablets2($query);

		echo json_encode($dataTablets);


	break;	

	case "tabla_transferencias":

		

		$query="select anio,nit,cur,entidad,nombreEntidad,estado,nomBeneficiario,descripcion,monto,fechaPago from poa_seguimiento_transferencias";

		$dataTablets=$objeto->getDatatablets2($query);

		echo json_encode($dataTablets);


	break;	



	//********************************  PRESUPUESTARIO DSPPP  ****************************** */
	case "seguimiento__tablas2023":
		$zonal=$objeto->getObtenerInformacionGeneral("SELECT a.zonal,b.descripcionZonal FROM th_usuario AS a INNER JOIN th_zonal AS b ON a.zonal=b.id_Zonal WHERE a.id_usuario='$datos[0]';");

		if ($datos[1]==2 && $datos[2]==20) {
	
			$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal,(SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo),'1') AS contadorTr,YEAR(a.fecha) AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a2.nombre, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 INNER JOIN poa_usuario AS a2 ON a1.idUsuario=a2.idUsuario WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idCompetenciaOrganismo DESC LIMIT 1) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idCompetenciaOrganismo DESC LIMIT 1) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft,(SELECT if(a3.idAreaAccion=9 OR a3.idAreaAccion=14,'ALTO RENDIMIENTO',if(a3.idAreaAccion=13,'RECREACION','FORMATIVO')) FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idCompetenciaOrganismo DESC LIMIT 1) AS areaAccionTipos ,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a2.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo  WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idCompetenciaOrganismo DESC LIMIT 1) AS areaAccionTipos2, a.perioIngreso  FROM poa_trimestrales AS a INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE (a.estado IS NULL OR a.estado='$datos[0]') AND a.perioIngreso='$aniosPeriodos__ingesos' AND l5.nombreZonal!='ZONAL 6' AND l5.nombreZonal!='ZONAL 7' AND l5.nombreZonal!='ZONAL 8' AND l5.nombreZonal!='ZONAL 1' AND l5.nombreZonal!='ZONAL 4' AND a.tipoTrimestre!='primerTrimestre' AND a.tipoTrimestre!='tercerTrimestre' GROUP BY a.tipoTrimestre,a.idOrganismo  ORDER BY a.idEnviadorTrimestres;";
			

		}else if($datos[1]==3 && $datos[2]==20){

			$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo),'1') AS contadorTr,YEAR(a.fecha) AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idCompetenciaOrganismo DESC LIMIT 1) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idCompetenciaOrganismo DESC LIMIT 1) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft,(SELECT if(a3.idAreaAccion=9 OR a3.idAreaAccion=14,'ALTO RENDIMIENTO',if(a3.idAreaAccion=13,'RECREACION','FORMATIVO')) FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idCompetenciaOrganismo DESC LIMIT 1) AS areaAccionTipos ,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a2.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo  WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idCompetenciaOrganismo DESC LIMIT 1) AS areaAccionTipos2, a.perioIngreso  FROM poa_trimestrales AS a INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE a.estado='$datos[0]' AND a.perioIngreso='$aniosPeriodos__ingesos' AND a.tipoTrimestre !='tercerTrimestre' AND a.tipoTrimestre!='primerTrimestre' GROUP BY a.tipoTrimestre,a.idOrganismo ORDER BY a.idEnviadorTrimestres;";

		}else if($datos[1]==4 && $zonal[0][zonal]>1){
			
		
			$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal,(SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo),'1') AS contadorTr,YEAR(a.fecha) AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idCompetenciaOrganismo DESC LIMIT 1) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idCompetenciaOrganismo DESC LIMIT 1) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft,(SELECT if(a3.idAreaAccion=9 OR a3.idAreaAccion=14,'ALTO RENDIMIENTO',if(a3.idAreaAccion=13,'RECREACION','FORMATIVO')) FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idCompetenciaOrganismo DESC LIMIT 1) AS areaAccionTipos ,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a2.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo  WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idCompetenciaOrganismo DESC LIMIT 1) AS areaAccionTipos2, a.perioIngreso  FROM poa_trimestrales AS a INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE l5.nombreZonal = '".$zonal[0][descripcionZonal]."' AND (a.estado IS NULL OR a.estado='$datos[0]') AND a.perioIngreso='$aniosPeriodos__ingesos' AND a.tipoTrimestre !='tercerTrimestre' AND a.tipoTrimestre!='primerTrimestre' GROUP BY a.tipoTrimestre,a.idOrganismo  ORDER BY a.idEnviadorTrimestres;";
	
			

		}else if($datos[1]==3 && $zonal[0][zonal]>1){				
			
			$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')  FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,(SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia,(SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia,a.tipoTrimestre,a.fecha,a.idEnviadorTrimestres,IF((SELECT COUNT(idEnviadorTrimestres) FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo) IS NOT NULL,(SELECT COUNT(idEnviadorTrimestres) + 1 FROM poa_trimestrales AS a1 WHERE a1.estado='A' AND a.idOrganismo=a1.idOrganismo GROUP BY a.idOrganismo),'1') AS contadorTr,YEAR(a.fecha) AS aniosEvaluados,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreResponsablePoa, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS presidente,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,(SELECT UPPER(a1.direccion) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS direccion, (SELECT UPPER(a1.barrioPoa) FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS barrioPoa,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.accion, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idCompetenciaOrganismo DESC LIMIT 1) AS areaAccion,(SELECT UPPER(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a3.nombreObjetivo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó'))  FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_objetivos AS a3 ON a3.idObjetivos=a2.idObjetivos WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idCompetenciaOrganismo DESC LIMIT 1) AS objetivosS,a.idOrganismo,IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft,(SELECT if(a3.idAreaAccion=9 OR a3.idAreaAccion=14,'ALTO RENDIMIENTO',if(a3.idAreaAccion=13,'RECREACION','FORMATIVO')) FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo INNER JOIN poa_area_accion AS a3 ON a3.idAreaAccion=a2.idAreaAccion WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idCompetenciaOrganismo DESC LIMIT 1) AS areaAccionTipos ,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a2.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a1.idTipoOrganismo=a2.idTipoOrganismo  WHERE a1.idOrganismo=a.idOrganismo ORDER BY a1.idCompetenciaOrganismo DESC LIMIT 1) AS areaAccionTipos2, a.perioIngreso  FROM poa_trimestrales AS a INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE l5.nombreZonal = '".$zonal[0][descripcionZonal]."' AND a.estado='$datos[0]' AND a.perioIngreso='$aniosPeriodos__ingesos' AND (a.tipoTrimestre='segundoTrimestre' OR a.tipoTrimestre='cuartoTrimestre') GROUP BY a.tipoTrimestre,a.idOrganismo ORDER BY a.idEnviadorTrimestres;";

		}
		
		$dataTablets=$objeto->getDatatablets2($query);


		echo json_encode($dataTablets);

	break;


	//**********************************  seguimiento__plazos   ******************************** */
	case "seguimiento__PlazosTablaTrimestres":

		$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, a.ruc,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreOrganismo,(SELECT a2.nombreProvincia FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS provincia,(SELECT a2.nombreCanton FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton,(SELECT a2.nombreParroquia FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia,b.fechaTrimestre1,b.fechaTrimestre2,b.fechaTrimestre3,b.fechaTrimestre4,a.idOrganismo FROM poa_organismo AS a LEFT JOIN poa_seguimiento_plazos as b on b.idOrganismo=a.idOrganismo and b.perioIngreso='$aniosPeriodos__ingesos' ;";

		$dataTablets=$objeto->getDatatablets2($query);

		echo json_encode($dataTablets);


	break;	


	//********************************** Reactivaciones y Suspenciones    ******************************** */
	case "reactivaciones_suspenciones_plazos":

		$zonal=$objeto->getObtenerInformacionGeneral("SELECT a.zonal,b.descripcionZonal FROM th_usuario AS a INNER JOIN th_zonal AS b ON a.zonal=b.id_Zonal WHERE a.id_usuario='$datos[0]';");
		
		$nombre=$zonal[0][descripcionZonal];

		$nombre1="";
		if(strcmp($nombre, "PLANTA CENTRAL") == 0 ){
			$nombre1="or w.nombreZonal = 'ZONAL 2' or w.nombreZonal = 'ZONAL 3' or w.nombreZonal = 'ZONAL 4' or w.nombreZonal = 'ZONAL 5'or w.nombreZonal = 'ZONAL 6'or w.nombreZonal = 'ZONAL 7'or w.nombreZonal = 'ZONAL 8'or w.nombreZonal = 'ZONAL 1'";
		}

		$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc, (SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,(SELECT a2.nombreTipo FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a2.idTipoOrganismo=a1.idTipoOrganismo WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS competenciaOrganismo,(SELECT a2.nombreProvincia FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS provincia,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,a.perioIngreso AS anio,(SELECT if(a1.idEnviadorTrimestres IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='primerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS trimestre1,(SELECT a1.FECHA FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='primerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS fechaPrimero,b.estadoTrimestre1, b.fechaTrimestre1, b.documentoTrimestre1,c.estadoTrimestre1,c.fechaTrimestre1, (SELECT if(a1.idEnviadorTrimestres IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='segundoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS segundo2,(SELECT a1.FECHA FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='segundoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS fechaSegundo,b.estadoTrimestre2,b.fechaTrimestre2, b.documentoTrimestre2,c.estadoTrimestre2,c.fechaTrimestre2,(SELECT if(a1.idEnviadorTrimestres IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='tercerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS tercer3,(SELECT a1.FECHA FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='tercerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS fechaTercero,b.estadoTrimestre3,b.fechaTrimestre3, b.documentoTrimestre3,c.estadoTrimestre3,c.fechaTrimestre3,(SELECT if(a1.idEnviadorTrimestres IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='cuartoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS cuarto4,(SELECT a1.FECHA FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='cuartoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS fechaCuarto,b.estadoTrimestre4 ,b.fechaTrimestre4, b.documentoTrimestre4,c.estadoTrimestre4, c.fechaTrimestre4, a.idOrganismo FROM poa_documentofinal AS a INNER JOIN poa_organismo_zonal as w on w.idOrganismo = a.idOrganismo LEFT JOIN poa_seguimiento_plazos as b on b.idOrganismo=a.idOrganismo and b.perioIngreso='$aniosPeriodos__ingesos' LEFT JOIN poa_seguimiento_plazos_estado_transferencia as c on c.idOrganismo=a.idOrganismo and c.perioIngreso='$aniosPeriodos__ingesos' WHERE a.perioIngreso='$aniosPeriodos__ingesos' GROUP BY a.idOrganismo ORDER BY a.idOrganismo ASC;
		";


		$dataTablets=$objeto->getDatatablets2($query);

		echo json_encode($dataTablets);


	break;	


	//********************************** Resumen Reporteria Reactivaciones y Suspenciones    ******************************** */
	case "resumen_reactivaciones_suspenciones_plazos":

		$zonal=$objeto->getObtenerInformacionGeneral("SELECT a.zonal,b.descripcionZonal FROM th_usuario AS a INNER JOIN th_zonal AS b ON a.zonal=b.id_Zonal WHERE a.id_usuario='$datos[0]';");
		
		$nombre=$zonal[0][descripcionZonal];

		$nombre1="";
		if(strcmp($nombre, "PLANTA CENTRAL") == 0 ){
			$nombre1="or w.nombreZonal = 'ZONAL 2' or w.nombreZonal = 'ZONAL 3' or w.nombreZonal = 'ZONAL 4' or w.nombreZonal = 'ZONAL 5'or w.nombreZonal = 'ZONAL 6'or w.nombreZonal = 'ZONAL 7'or w.nombreZonal = 'ZONAL 8'or w.nombreZonal = 'ZONAL 1'";
		}

		$query ="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc, (SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,(SELECT a2.nombreTipo FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a2.idTipoOrganismo=a1.idTipoOrganismo WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS competenciaOrganismo,(SELECT a2.nombreProvincia FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS provincia,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,a.perioIngreso AS anio,(SELECT if(a1.idEnviadorTrimestres IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='primerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS trimestre1,(SELECT a1.FECHA FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='primerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS fechaPrimero,b.estadoTrimestre1, b.fechaTrimestre1, b.documentoTrimestre1,c.estadoTrimestre1,c.fechaTrimestre1, c.documentoTrimestre1,(SELECT l6.estado FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='SUSPENSION' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='primerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as estadoHistoricoSuspension,(SELECT l6.fechaRegistro FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='SUSPENSION' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='primerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as fechaHistoricoSuspension,(SELECT l6.documento FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='SUSPENSION' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='primerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as documentoHistoricoSuspension,(SELECT l6.estado FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='REACTIVACION' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='primerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as estadoHistoricoReactivacion,(SELECT l6.fechaRegistro FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='REACTIVACION' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='primerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as fechaHistoricoReactivacion,(SELECT l6.documento FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='REACTIVACION' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='primerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as documentoHistoricoReactivacion,(SELECT l6.estado FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='AJUSTE' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='primerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as estadoHistoricoAjuste,(SELECT l6.fechaRegistro FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='AJUSTE' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='primerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as fechaHistoricoAjuste,(SELECT l6.documento FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='AJUSTE' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='primerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as documentoHistoricoAjuste,               (SELECT l6.estado FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='AJUSTADO' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='primerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as estadoHistoricoAjustado,(SELECT l6.fechaRegistro FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='AJUSTADO' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='primerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as fechaHistoricoAjustado,(SELECT l6.documento FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='AJUSTADO' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='primerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as documentoHistoricoAjustado      ,(SELECT l6.estado FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='SUSPENDIDO' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='primerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as estadoHistoricoSuspendido,(SELECT l6.fechaRegistro FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='SUSPENDIDO' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='primerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as fechaHistoricoSuspendido,(SELECT l6.documento FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='SUSPENDIDO' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='primerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as documentoHistoricoSuspendido  ,(SELECT l6.estado FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='REACTIVADA' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='primerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as estadoHistoricoReactivado,(SELECT l6.fechaRegistro FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='REACTIVADA' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='primerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as fechaHistoricoReactivado,(SELECT l6.documento FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='REACTIVADA' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='primerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as documentoHistoricoReactivado,                     (SELECT if(a1.idEnviadorTrimestres IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='segundoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS segundo2,(SELECT a1.FECHA FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='segundoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS fechaSegundo,b.estadoTrimestre2,b.fechaTrimestre2, b.documentoTrimestre2,c.estadoTrimestre2,c.fechaTrimestre2,c.documentoTrimestre2,(SELECT l6.estado FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='SUSPENSION' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='segundoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as estadoHistoricoSuspension,(SELECT l6.fechaRegistro FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='SUSPENSION' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='segundoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as fechaHistoricoSuspension,(SELECT l6.documento FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='SUSPENSION' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='segundoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as documentoHistoricoSuspension,(SELECT l6.estado FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='REACTIVACION' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='segundoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as estadoHistoricoReactivacion,(SELECT l6.fechaRegistro FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='REACTIVACION' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='segundoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as fechaHistoricoReactivacion,(SELECT l6.documento FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='REACTIVACION' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='segundoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as documentoHistoricoReactivacion,(SELECT l6.estado FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='AJUSTE' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='segundoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as estadoHistoricoAjuste,(SELECT l6.fechaRegistro FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='AJUSTE' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='segundoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as fechaHistoricoAjuste,(SELECT l6.documento FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='AJUSTE' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='segundoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as documentoHistoricoAjuste,               (SELECT l6.estado FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='AJUSTADO' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='segundoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as estadoHistoricoAjustado,(SELECT l6.fechaRegistro FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='AJUSTADO' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='segundoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as fechaHistoricoAjustado,(SELECT l6.documento FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='AJUSTADO' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='segundoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as documentoHistoricoAjustado      ,(SELECT l6.estado FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='SUSPENDIDO' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='segundoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as estadoHistoricoSuspendido,(SELECT l6.fechaRegistro FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='SUSPENDIDO' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='segundoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as fechaHistoricoSuspendido,(SELECT l6.documento FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='SUSPENDIDO' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='segundoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as documentoHistoricoSuspendido  ,(SELECT l6.estado FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='REACTIVADA' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='segundoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as estadoHistoricoReactivado,(SELECT l6.fechaRegistro FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='REACTIVADA' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='segundoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as fechaHistoricoReactivado,(SELECT l6.documento FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='REACTIVADA' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='segundoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as documentoHistoricoReactivado                    ,(SELECT if(a1.idEnviadorTrimestres IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='tercerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS tercer3,(SELECT a1.FECHA FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='tercerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS fechaTercero,b.estadoTrimestre3,b.fechaTrimestre3, b.documentoTrimestre3,c.estadoTrimestre3,c.fechaTrimestre3,c.documentoTrimestre3,(SELECT l6.estado FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='SUSPENSION' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='tercerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as estadoHistoricoSuspension,(SELECT l6.fechaRegistro FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='SUSPENSION' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='tercerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as fechaHistoricoSuspension,(SELECT l6.documento FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='SUSPENSION' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='tercerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as documentoHistoricoSuspension,(SELECT l6.estado FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='REACTIVACION' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='tercerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as estadoHistoricoReactivacion,(SELECT l6.fechaRegistro FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='REACTIVACION' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='tercerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as fechaHistoricoReactivacion,(SELECT l6.documento FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='REACTIVACION' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='tercerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as documentoHistoricoReactivacion,(SELECT l6.estado FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='AJUSTE' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='tercerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as estadoHistoricoAjuste,(SELECT l6.fechaRegistro FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='AJUSTE' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='tercerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as fechaHistoricoAjuste,(SELECT l6.documento FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='AJUSTE' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='tercerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as documentoHistoricoAjuste,               (SELECT l6.estado FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='AJUSTADO' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='tercerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as estadoHistoricoAjustado,(SELECT l6.fechaRegistro FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='AJUSTADO' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='tercerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as fechaHistoricoAjustado,(SELECT l6.documento FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='AJUSTADO' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='tercerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as documentoHistoricoAjustado      ,(SELECT l6.estado FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='SUSPENDIDO' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='tercerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as estadoHistoricoSuspendido,(SELECT l6.fechaRegistro FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='SUSPENDIDO' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='tercerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as fechaHistoricoSuspendido,(SELECT l6.documento FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='SUSPENDIDO' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='tercerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as documentoHistoricoSuspendido  ,(SELECT l6.estado FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='REACTIVADA' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='tercerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as estadoHistoricoReactivado,(SELECT l6.fechaRegistro FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='REACTIVADA' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='tercerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as fechaHistoricoReactivado,(SELECT l6.documento FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='REACTIVADA' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='tercerTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as documentoHistoricoReactivado      ,(SELECT if(a1.idEnviadorTrimestres IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='cuartoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS cuarto4,(SELECT a1.FECHA FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='cuartoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS fechaCuarto,b.estadoTrimestre4 ,b.fechaTrimestre4, b.documentoTrimestre4,c.estadoTrimestre4, c.fechaTrimestre4,c.documentoTrimestre4,(SELECT l6.estado FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='SUSPENSION' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='cuartoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as estadoHistoricoSuspension,(SELECT l6.fechaRegistro FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='SUSPENSION' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='cuartoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as fechaHistoricoSuspension,(SELECT l6.documento FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='SUSPENSION' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='cuartoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as documentoHistoricoSuspension,(SELECT l6.estado FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='REACTIVACION' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='cuartoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as estadoHistoricoReactivacion,(SELECT l6.fechaRegistro FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='REACTIVACION' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='cuartoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as fechaHistoricoReactivacion,(SELECT l6.documento FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='REACTIVACION' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='cuartoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as documentoHistoricoReactivacion,(SELECT l6.estado FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='AJUSTE' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='cuartoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as estadoHistoricoAjuste,(SELECT l6.fechaRegistro FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='AJUSTE' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='cuartoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as fechaHistoricoAjuste,(SELECT l6.documento FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='AJUSTE' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='cuartoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as documentoHistoricoAjuste    ,(SELECT l6.estado FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='AJUSTADO' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='cuartoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as estadoHistoricoAjuste,(SELECT l6.fechaRegistro FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='AJUSTADO' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='cuartoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as fechaHistoricoAjuste,(SELECT l6.documento FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='AJUSTADO' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='cuartoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as documentoHistoricoAjuste      ,(SELECT l6.estado FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='SUSPENDIDO' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='cuartoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as estadoHistoricoAjuste,(SELECT l6.fechaRegistro FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='SUSPENDIDO' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='cuartoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as fechaHistoricoAjuste,(SELECT l6.documento FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='SUSPENDIDO' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='cuartoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as documentoHistoricoAjuste  ,(SELECT l6.estado FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='REACTIVADA' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='cuartoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as estadoHistoricoAjuste,(SELECT l6.fechaRegistro FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='REACTIVADA' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='cuartoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as fechaHistoricoAjuste,(SELECT l6.documento FROM poa_seguimiento_plazos_historico AS l6 WHERE l6.idOrganismo=a.idOrganismo AND l6.estado ='REACTIVADA' AND l6.perioIngreso='$aniosPeriodos__ingesos' AND trimestre ='cuartoTrimestre' ORDER BY l6.idPlazos__seguimientos_historico DESC LIMIT 1) as documentoHistoricoAjuste, a.idOrganismo FROM poa_documentofinal AS a INNER JOIN poa_organismo_zonal as w on w.idOrganismo = a.idOrganismo LEFT JOIN poa_seguimiento_plazos as b on b.idOrganismo=a.idOrganismo and b.perioIngreso='$aniosPeriodos__ingesos' LEFT JOIN poa_seguimiento_plazos_estado_transferencia as c on c.idOrganismo=a.idOrganismo and c.perioIngreso='$aniosPeriodos__ingesos' WHERE a.perioIngreso='$aniosPeriodos__ingesos' GROUP BY a.idOrganismo ORDER BY a.idOrganismo ASC";


		$dataTablets=$objeto->getDatatablets2($query);

		echo json_encode($dataTablets);


	break;	


	//**********************************RESUMEN REVISORES FINANCIERO Zonales Reactivaciones y Suspenciones    ******************************** */
	case "resumen_revisores_reactivaciones_suspenciones_plazos":

		$zonal=$objeto->getObtenerInformacionGeneral("SELECT a.zonal,b.descripcionZonal FROM th_usuario AS a INNER JOIN th_zonal AS b ON a.zonal=b.id_Zonal WHERE a.id_usuario='$datos[0]';");
		
		$nombre=$zonal[0][descripcionZonal];

		$nombre1="";
		if(strcmp($nombre, "PLANTA CENTRAL") == 0 ){
			$nombre1="or w.nombreZonal = 'ZONAL 2' or w.nombreZonal = 'ZONAL 3' or w.nombreZonal = 'ZONAL 4' or w.nombreZonal = 'ZONAL 5'or w.nombreZonal = 'ZONAL 6'or w.nombreZonal = 'ZONAL 7'or w.nombreZonal = 'ZONAL 8'or w.nombreZonal = 'ZONAL 1'";
		}

		$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc, (SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,(SELECT a2.nombreTipo FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a2.idTipoOrganismo=a1.idTipoOrganismo WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS competenciaOrganismo,(SELECT a2.nombreProvincia FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS provincia,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,a.perioIngreso AS anio,(SELECT if(a1.idEnviadorTrimestres IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='primerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS trimestre1,(SELECT a1.FECHA FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='primerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS fechaPrimero,b.estadoTrimestre1, b.fechaTrimestre1, b.documentoTrimestre1,c.estadoTrimestre1,c.fechaTrimestre1, c.documentoTrimestre1,c.fecha, (SELECT if(a1.idEnviadorTrimestres IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='segundoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS segundo2,(SELECT a1.FECHA FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='segundoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS fechaSegundo,b.estadoTrimestre2,b.fechaTrimestre2, b.documentoTrimestre2,c.estadoTrimestre2,c.fechaTrimestre2, c.documentoTrimestre2,c.fecha,(SELECT if(a1.idEnviadorTrimestres IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='tercerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS tercer3,(SELECT a1.FECHA FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='tercerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS fechaTercero,b.estadoTrimestre3,b.fechaTrimestre3, b.documentoTrimestre3,c.estadoTrimestre3,c.fechaTrimestre3, c.documentoTrimestre3,c.fecha,(SELECT if(a1.idEnviadorTrimestres IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='cuartoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS cuarto4,(SELECT a1.FECHA FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='cuartoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS fechaCuarto,b.estadoTrimestre4 ,b.fechaTrimestre4, b.documentoTrimestre4,c.estadoTrimestre4, c.fechaTrimestre4, c.documentoTrimestre4,c.fecha, a.idOrganismo FROM poa_documentofinal AS a INNER JOIN poa_organismo_zonal as w on w.idOrganismo = a.idOrganismo LEFT JOIN poa_seguimiento_plazos as b on b.idOrganismo=a.idOrganismo and b.perioIngreso='$aniosPeriodos__ingesos' LEFT JOIN poa_seguimiento_plazos_estado_transferencia as c on c.idOrganismo=a.idOrganismo and c.perioIngreso='$aniosPeriodos__ingesos' WHERE a.perioIngreso='$aniosPeriodos__ingesos' AND (c.estadoTrimestre1 = 'REACTIVACION'or c.estadoTrimestre2 = 'REACTIVACION' or c.estadoTrimestre3 = 'REACTIVACION' or c.estadoTrimestre4 = 'REACTIVACION' or c.estadoTrimestre2 = 'SUSPENSION' or c.estadoTrimestre1 = 'SUSPENSION' or c.estadoTrimestre3 = 'SUSPENSION' or c.estadoTrimestre4 = 'SUSPENSION') AND (w.nombreZonal like '%$nombre%' $nombre1 ) GROUP BY a.idOrganismo ORDER BY a.idOrganismo ASC;
		";


		$dataTablets=$objeto->getDatatablets2($query);

		echo json_encode($dataTablets);


	break;	


	//**********************************RESUMEN REVISORES PLANIFICACION AJUSTE    ******************************** */
	case "resumen_revisores_ajuste_planificacion_plazos":

		$zonal=$objeto->getObtenerInformacionGeneral("SELECT a.zonal,b.descripcionZonal FROM th_usuario AS a INNER JOIN th_zonal AS b ON a.zonal=b.id_Zonal WHERE a.id_usuario='$datos[0]';");
		
		$nombre=$zonal[0][descripcionZonal];

		$nombre1="";
		if(strcmp($nombre, "PLANTA CENTRAL") == 0 ){
			$nombre1="or w.nombreZonal = 'ZONAL 2' or w.nombreZonal = 'ZONAL 3' or w.nombreZonal = 'ZONAL 4' or w.nombreZonal = 'ZONAL 5'or w.nombreZonal = 'ZONAL 6'or w.nombreZonal = 'ZONAL 7'or w.nombreZonal = 'ZONAL 8'or w.nombreZonal = 'ZONAL 1'";
		}

		$query="SELECT (SELECT l6.nombreZonal FROM poa_organismo_zonal AS l6 WHERE l6.idOrganismo=a.idOrganismo LIMIT 1) AS zonal, (SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS ruc, (SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,(SELECT a2.nombreTipo FROM poa_competencia_organismo_competencia AS a1 INNER JOIN poa_tipo_organismo AS a2 ON a2.idTipoOrganismo=a1.idTipoOrganismo WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS competenciaOrganismo,(SELECT a2.nombreProvincia FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS provincia,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo LIMIT 1) AS emailOrganismos,a.perioIngreso AS anio,(SELECT if(a1.idEnviadorTrimestres IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='primerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS trimestre1,(SELECT a1.FECHA FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='primerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS fechaPrimero,b.estadoTrimestre1, b.fechaTrimestre1, b.documentoTrimestre1,c.estadoTrimestre1,c.fechaTrimestre1, c.documentoTrimestre1,c.fecha, (SELECT if(a1.idEnviadorTrimestres IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='segundoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS segundo2,(SELECT a1.FECHA FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='segundoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS fechaSegundo,b.estadoTrimestre2,b.fechaTrimestre2, b.documentoTrimestre2,c.estadoTrimestre2,c.fechaTrimestre2, c.documentoTrimestre2,c.fecha,(SELECT if(a1.idEnviadorTrimestres IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='tercerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS tercer3,(SELECT a1.FECHA FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='tercerTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS fechaTercero,b.estadoTrimestre3,b.fechaTrimestre3, b.documentoTrimestre3,c.estadoTrimestre3,c.fechaTrimestre3, c.documentoTrimestre3,c.fecha,(SELECT if(a1.idEnviadorTrimestres IS NOT NULL,'CUMPLE','NO CUMPLE') FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='cuartoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS cuarto4,(SELECT a1.FECHA FROM poa_trimestrales AS a1 WHERE a1.idOrganismo=a.idOrganismo AND a1.tipoTrimestre='cuartoTrimestre' AND a1.perioIngreso=a.perioIngreso ORDER BY a1.idEnviadorTrimestres DESC LIMIT 1) AS fechaCuarto,b.estadoTrimestre4 ,b.fechaTrimestre4, b.documentoTrimestre4,c.estadoTrimestre4, c.fechaTrimestre4, c.documentoTrimestre4,c.fecha, a.idOrganismo FROM poa_documentofinal AS a INNER JOIN poa_organismo_zonal as w on w.idOrganismo = a.idOrganismo LEFT JOIN poa_seguimiento_plazos as b on b.idOrganismo=a.idOrganismo and b.perioIngreso='$aniosPeriodos__ingesos' LEFT JOIN poa_seguimiento_plazos_estado_transferencia as c on c.idOrganismo=a.idOrganismo and c.perioIngreso='$aniosPeriodos__ingesos' WHERE a.perioIngreso='$aniosPeriodos__ingesos' AND (c.estadoTrimestre2 = 'AJUSTE' or c.estadoTrimestre1 = 'AJUSTE' or c.estadoTrimestre3 = 'AJUSTE' or c.estadoTrimestre4 = 'AJUSTE') GROUP BY a.idOrganismo ORDER BY a.idOrganismo ASC;
		";


		$dataTablets=$objeto->getDatatablets2($query);

		echo json_encode($dataTablets);


	break;	

	case "seguimiento__tablas__alto__rendimientos__recomendados2023":

		$query="SELECT l5.nombreZonal, b.ruc,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(b.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreOrganismo, (SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia, (SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton, (SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia, a.tipoTrimestre, a.fecha, a.idOrganismo,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT, IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft, REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo FROM poa_trimestrales AS a INNER JOIN poa_organismo AS b ON a.idOrganismo=b.idOrganismo INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE a.estadoAlR='$datos[0]' AND a.perioIngreso='$aniosPeriodos__ingesos';";


		$dataTablets=$objeto->getDatatablets2($query);

		echo json_encode($dataTablets);


	break;


	case "seguimiento__tablas__seguimientos__recomendados2023":
			
		$zonal=$objeto->getObtenerInformacionGeneral("SELECT a.zonal,b.descripcionZonal FROM th_usuario AS a INNER JOIN th_zonal AS b ON a.zonal=b.id_Zonal WHERE a.id_usuario='$datos[0]';");
		if ($datos[1]==2 && $datos[2]==20) {
			$query="SELECT l5.nombreZonal, b.ruc,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(b.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreOrganismo, (SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia, (SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton, (SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia, a.tipoTrimestre, a.fecha, if(d.nombreTipo like 'a.%' OR d.nombreTipo like 'c.%' OR d.nombreTipo like 'f.%' OR d.nombreTipo like 'j.%' OR d.nombreTipo like 'm.%' OR d.nombreTipo like 'n.%' OR d.nombreTipo like 'o.%','FORMATIVO',if(d.nombreTipo like 'b.%' OR d.nombreTipo like 'd.%' OR d.nombreTipo like 'e.%' OR d.nombreTipo like 'h.%' OR d.nombreTipo like 'r.%','RECREACIÓN','ALTO')) AS rotuloRecreativos,a.idOrganismo,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo, IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft FROM poa_trimestrales AS a INNER JOIN poa_organismo AS b ON a.idOrganismo=b.idOrganismo INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS e ON e.idAreaAccion=d.idAreaAccion INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE a.estadoR='$datos[0]' AND a.perioIngreso='$aniosPeriodos__ingesos' AND l5.nombreZonal!='ZONAL 6' AND l5.nombreZonal!='ZONAL 7' AND l5.nombreZonal!='ZONAL 8' AND l5.nombreZonal!='ZONAL 1' AND l5.nombreZonal!='ZONAL 4';";

		}else if($datos[1]==4 && $zonal[0][zonal]>1){
			$query="SELECT l5.nombreZonal, b.ruc,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(b.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreOrganismo, (SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia, (SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton, (SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia, a.tipoTrimestre, a.fecha, if(d.nombreTipo like 'a.%' OR d.nombreTipo like 'c.%' OR d.nombreTipo like 'f.%' OR d.nombreTipo like 'j.%' OR d.nombreTipo like 'm.%' OR d.nombreTipo like 'n.%' OR d.nombreTipo like 'o.%','FORMATIVO',if(d.nombreTipo like 'b.%' OR d.nombreTipo like 'd.%' OR d.nombreTipo like 'e.%' OR d.nombreTipo like 'h.%' OR d.nombreTipo like 'r.%','RECREACIÓN','ALTO')) AS rotuloRecreativos,a.idOrganismo,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo, IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft FROM poa_trimestrales AS a INNER JOIN poa_organismo AS b ON a.idOrganismo=b.idOrganismo INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_area_accion AS e ON e.idAreaAccion=d.idAreaAccion INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE l5.nombreZonal = '".$zonal[0][descripcionZonal]."' AND a.estadoR='$datos[0]' AND a.perioIngreso='$aniosPeriodos__ingesos';";
		}
		$dataTablets=$objeto->getDatatablets2($query);

		echo json_encode($dataTablets);


	break;


	case "seguimiento__tablas__fisica__rendimientos__recomendados2023":

		$zonal=$objeto->getObtenerInformacionGeneral("SELECT a.zonal,b.descripcionZonal FROM th_usuario AS a INNER JOIN th_zonal AS b ON a.zonal=b.id_Zonal WHERE a.id_usuario='$datos[0]';");

		if (($datos[1]==2 || $datos[1]==7)  && $datos[2]==13) {

			$query="SELECT l5.nombreZonal, b.ruc,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(b.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreOrganismo, (SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia, (SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton, (SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia, a.tipoTrimestre, a.fecha, a.idOrganismo,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT, IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft, REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo, if(d.nombreTipo like 'a.%' OR d.nombreTipo like 'c.%' OR d.nombreTipo like 'f.%' OR d.nombreTipo like 'j.%' OR d.nombreTipo like 'm.%' OR d.nombreTipo like 'n.%' OR d.nombreTipo like 'o.%','FORMATIVO',if(d.nombreTipo like 'b.%' OR d.nombreTipo like 'd.%' OR d.nombreTipo like 'e.%' OR d.nombreTipo like 'h.%' OR d.nombreTipo like 'r.%','RECREACIÓN','ALTO')) AS rotuloRecreativos FROM poa_trimestrales AS a INNER JOIN poa_organismo AS b ON a.idOrganismo=b.idOrganismo INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE a.estadoFR='$datos[0]' AND a.perioIngreso='$aniosPeriodos__ingesos' AND l5.nombreZonal!='ZONAL 6' AND l5.nombreZonal!='ZONAL 7' AND l5.nombreZonal!='ZONAL 8' AND l5.nombreZonal!='ZONAL 1' AND l5.nombreZonal!='ZONAL 4';";

		}else if($datos[1]==4 && $zonal[0][zonal]>1){
			$query="SELECT l5.nombreZonal, b.ruc,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(b.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreOrganismo, (SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia, (SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton, (SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia, a.tipoTrimestre, a.fecha, a.idOrganismo,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT, IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft, REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo, if(d.nombreTipo like 'a.%' OR d.nombreTipo like 'c.%' OR d.nombreTipo like 'f.%' OR d.nombreTipo like 'j.%' OR d.nombreTipo like 'm.%' OR d.nombreTipo like 'n.%' OR d.nombreTipo like 'o.%','FORMATIVO',if(d.nombreTipo like 'b.%' OR d.nombreTipo like 'd.%' OR d.nombreTipo like 'e.%' OR d.nombreTipo like 'h.%' OR d.nombreTipo like 'r.%','RECREACIÓN','ALTO')) AS rotuloRecreativos FROM poa_trimestrales AS a INNER JOIN poa_organismo AS b ON a.idOrganismo=b.idOrganismo INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE l5.nombreZonal = '".$zonal[0][descripcionZonal]."' AND a.estadoFR='$datos[0]' AND a.perioIngreso='$aniosPeriodos__ingesos';";
		}else{
			$query="SELECT l5.nombreZonal, b.ruc,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(b.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreOrganismo, (SELECT UPPER(a2.nombreProvincia) FROM poa_organismo AS a1 INNER JOIN in_md_provincias AS a2 ON a1.idProvincia=a2.idProvincia WHERE a1.idOrganismo=a.idOrganismo) AS nombreProvincia, (SELECT UPPER(a2.nombreCanton) FROM poa_organismo AS a1 INNER JOIN in_md_canton AS a2 ON a1.idCanton=a2.idCanton WHERE a1.idOrganismo=a.idOrganismo) AS nombreCanton, (SELECT UPPER(a2.nombreParroquia) FROM poa_organismo AS a1 INNER JOIN in_md_parroquia AS a2 ON a1.idParroquia=a2.idParroquia WHERE a1.idOrganismo=a.idOrganismo) AS nombreParroquia, a.tipoTrimestre, a.fecha, a.idOrganismo,IF(a.tipoTrimestre='segundoTrimestre', 'I SEMESTRE', 'II SEMESTRE') AS trimestreT, IF(a.esigeft IS NOT NULL,a.esigeft,IF((SELECT a.idOrganismo FROM poa_esigef AS a1 WHERE a1.idOrganismo=a.idOrganismo) IS NOT NULL,'SI','NO')) AS esigeft, REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(d.nombreTipo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreTipo, if(d.nombreTipo like 'a.%' OR d.nombreTipo like 'c.%' OR d.nombreTipo like 'f.%' OR d.nombreTipo like 'j.%' OR d.nombreTipo like 'm.%' OR d.nombreTipo like 'n.%' OR d.nombreTipo like 'o.%','FORMATIVO',if(d.nombreTipo like 'b.%' OR d.nombreTipo like 'd.%' OR d.nombreTipo like 'e.%' OR d.nombreTipo like 'h.%' OR d.nombreTipo like 'r.%','RECREACIÓN','ALTO')) AS rotuloRecreativos FROM poa_trimestrales AS a INNER JOIN poa_organismo AS b ON a.idOrganismo=b.idOrganismo INNER JOIN poa_competencia_organismo_competencia AS c ON c.idOrganismo=a.idOrganismo INNER JOIN poa_tipo_organismo AS d ON d.idTipoOrganismo=c.idTipoOrganismo INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE a.estadoFR='$datos[0]' AND a.perioIngreso='$aniosPeriodos__ingesos' AND l5.nombreZonal!='ZONAL 6' AND l5.nombreZonal!='ZONAL 7' AND l5.nombreZonal!='ZONAL 8' AND l5.nombreZonal!='ZONAL 1' AND l5.nombreZonal!='ZONAL 4';";
		}

		$dataTablets=$objeto->getDatatablets2($query);

		echo json_encode($dataTablets);

	break;


	case "poa__inicial__poa__seguimiento__infra":

		$comparativos=$objeto->getObtenerInformacionGeneral("SELECT idOrganismo FROM poa_programacion_financiera_dos WHERE idOrganismo='$datos[0]' AND perioIngreso='$aniosPeriodos__ingesos' GROUP BY idOrganismo;");
		$idOrganismo=$comparativos[0][idOrganismo];

		if (empty($idOrganismo)) {
			$query="SELECT b.nombreActividades,c.nombreItem,c.itemPreesupuestario, a.enero,a.febrero,a.marzo,a.abril, a.mayo,a.junio,a.julio, a.agosto, a.septiembre, a.octubre,a.noviembre,a.diciembre, a.totalTotales FROM poa_programacion_financiera AS a INNER JOIN poa_actividades AS b ON a.idActividad=b.idActividades INNER JOIN poa_item AS c ON c.idItem=a.idItem WHERE a.idOrganismo='$datos[0]' AND a.perioIngreso='$aniosPeriodos__ingesos';";
		}else{

			$query="SELECT b.nombreActividades,c.nombreItem,c.itemPreesupuestario, a.enero,a.febrero,a.marzo,a.abril, a.mayo,a.junio,a.julio, a.agosto, a.septiembre, a.octubre,a.noviembre,a.diciembre, a.totalTotales FROM poa_programacion_financiera_dos AS a INNER JOIN poa_actividades AS b ON a.idActividad=b.idActividades INNER JOIN poa_item AS c ON c.idItem=a.idItem WHERE a.idOrganismo='$datos[0]' AND a.perioIngreso='$aniosPeriodos__ingesos';";

		}

		$dataTablets=$objeto->getDatatablets($query);

		echo json_encode($dataTablets);

	break;

	case "reporteria__mantenimiento__seguimiento__infra":

		$comparativos=$objeto->getObtenerInformacionGeneral("SELECT b.idOrganismo FROM poa_mantenimiento AS a INNER JOIN poa_programacion_financiera AS b ON a.idProgramacionFinanciera=b.idProgramacionFinanciera INNER JOIN poa_item AS c ON c.idItem=b.idItem WHERE b.idOrganismo='$datos[0]' AND a.modifica='A' AND a.perioIngreso='$aniosPeriodos__ingesos' GROUP BY b.idOrganismo ORDER BY a.idMantenimiento DESC;");
		$idOrganismo=$comparativos[0][idOrganismo];

		if (empty($idOrganismo)) {
			$query="SELECT CONCAT_WS('-',c.itemPreesupuestario,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(c.nombreItem, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) AS nombreItem, REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a.nombreInfras, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreInfras,(SELECT a1.nombreProvincia FROM in_md_provincias AS a1 WHERE a1.idProvincia=a.provincia) AS provincia,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a.direccionCompleta, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS direccionCompleta,a.estado,a.tipoRecursos,a.tipoIntervencion,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a.detallarTipoIn, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS detallarTipoIn,a.tipoMantenimiento,a.materialesServicios,a.enero,a.febrero,a.marzo,a.abril,a.mayo,a.junio,a.julio,a.agosto,a.septiembre,a.octubre,a.noviembre,a.diciembre,a.total FROM poa_mantenimiento AS a INNER JOIN poa_programacion_financiera AS b ON a.idProgramacionFinanciera=b.idProgramacionFinanciera INNER JOIN poa_item AS c ON c.idItem=b.idItem WHERE b.idOrganismo='$datos[0]' AND a.perioIngreso='$aniosPeriodos__ingesos' ORDER BY a.idMantenimiento DESC;";

		}else{
			$query="SELECT CONCAT_WS('-',c.itemPreesupuestario,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(c.nombreItem, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó')) AS nombreItem, REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a.nombreInfras, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS nombreInfras,(SELECT a1.nombreProvincia FROM in_md_provincias AS a1 WHERE a1.idProvincia=a.provincia) AS provincia,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a.direccionCompleta, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS direccionCompleta,a.estado,a.tipoRecursos,a.tipoIntervencion,REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a.detallarTipoIn, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') AS detallarTipoIn,a.tipoMantenimiento,a.materialesServicios,a.enero,a.febrero,a.marzo,a.abril,a.mayo,a.junio,a.julio,a.agosto,a.septiembre,a.octubre,a.noviembre,a.diciembre,a.total FROM poa_mantenimiento AS a INNER JOIN poa_programacion_financiera AS b ON a.idProgramacionFinanciera=b.idProgramacionFinanciera INNER JOIN poa_item AS c ON c.idItem=b.idItem WHERE b.idOrganismo='$datos[0]' AND a.modifica='A' AND a.perioIngreso='$aniosPeriodos__ingesos' ORDER BY a.idMantenimiento DESC;";

		}

		$dataTablets=$objeto->getDatatablets2($query);


		echo json_encode($dataTablets);

	break;

	case "seguimiento__controles__sujetados2023":

		$zonal=$objeto->getObtenerInformacionGeneral("SELECT a.zonal,b.descripcionZonal FROM th_usuario AS a INNER JOIN th_zonal AS b ON a.zonal=b.id_Zonal WHERE a.id_usuario='$datos[0]';");

		if ($datos[2]==2) {
			$query="SELECT(SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS rucOrganismo,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,a.fecha,a.trimestre,a.justificacion,a.idOrganismo,a.idSeguimientoCambio,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS correo  FROM poa_seguimiento_control_cambios AS a INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE a.estado='P' AND a.perioIngreso='$aniosPeriodos__ingesos' AND l5.nombreZonal!='ZONAL 6' AND l5.nombreZonal!='ZONAL 7' AND l5.nombreZonal!='ZONAL 8' AND l5.nombreZonal!='ZONAL 1' AND l5.nombreZonal!='ZONAL 4';";
		}else if($datos[2]==4 && $zonal[0][zonal]>1){
			$query="SELECT(SELECT a1.ruc FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS rucOrganismo,(SELECT REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(a1.nombreOrganismo, 'Ã¡', 'á'),'Ã©','é'),'Ã­','í'),'Ã³','ó'),'Ãº','ú'),'Ã‰','É'),'ÃŒ','Í'),'Ã“','Ó'),'Ãš','Ú'),'Ã±','ñ'),'Ã‘','Ñ'),'&#039;',' ` '),'Ã','Á'),'',' '),'Ã','Á'),'SI','SI'),'â€œ',''),'â€',''),'Á²','ó') FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS nombreOrganismo,a.fecha,a.trimestre,a.justificacion,a.idOrganismo,a.idSeguimientoCambio,(SELECT a1.correo FROM poa_organismo AS a1 WHERE a1.idOrganismo=a.idOrganismo) AS correo FROM poa_seguimiento_control_cambios AS a INNER JOIN poa_organismo_zonal AS l5 ON l5.idOrganismo=a.idOrganismo WHERE a.estado='P' AND a.perioIngreso='$aniosPeriodos__ingesos' AND l5.nombreZonal = '".$zonal[0][descripcionZonal]."';";
		}
			$dataTablets=$objeto->getDatatablets2($query);

			echo json_encode($dataTablets);


	break;

}

